/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/header@2.8.1/dist/header.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(n,r){typeof exports=="object"&&typeof module<"u"?module.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self,n.Header=r())})(this,function(){"use strict";const n="",r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',a='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',g='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class c{ constructor({ data: e, config: t, api: s, readOnly: i }) { this.api = s, this.readOnly = i, this._CSS = { block: this.api.styles.block, wrapper: "ce-header" }, this._settings = t, this._data = this.normalizeData(e), this._element = this.getTag() } normalizeData(e) { const t = {}; return typeof e != "object" && (e = {}), t.text = e.text || "", t.level = parseInt(e.level) || this.defaultLevel.number, t } render() { return this._element } renderSettings() { return this.levels.map(e => ({ icon: e.svg, label: this.api.i18n.t(`Heading ${e.number}`), onActivate: () => this.setLevel(e.number), closeOnActivate: !0, isActive: this.currentLevel.number === e.number })) } setLevel(e) { this.data = { level: e, text: this.data.text } } merge(e) { const t = { text: this.data.text + e.text, level: this.data.level }; this.data = t } validate(e) { return e.text.trim() !== "" } save(e) { return { text: e.innerHTML, level: this.currentLevel.number } } static get conversionConfig() { return { export: "text", import: "text" } } static get sanitize() { return { level: !1, text: {} } } static get isReadOnlySupported() { return !0 } get data() { return this._data.text = this._element.innerHTML, this._data.level = this.currentLevel.number, this._data } set data(e) { if (this._data = this.normalizeData(e), e.level !== void 0 && this._element.parentNode) { const t = this.getTag(); t.innerHTML = this._element.innerHTML, this._element.parentNode.replaceChild(t, this._element), this._element = t } e.text !== void 0 && (this._element.innerHTML = this._data.text || "") } getTag() { const e = document.createElement(this.currentLevel.tag); return e.innerHTML = this._data.text || "", e.classList.add(this._CSS.wrapper), e.contentEditable = this.readOnly ? "false" : "true", e.dataset.placeholder = this.api.i18n.t(this._settings.placeholder || ""), e } get currentLevel() { let e = this.levels.find(t => t.number === this._data.level); return e || (e = this.defaultLevel), e } get defaultLevel() { if (this._settings.defaultLevel) { const e = this.levels.find(t => t.number === this._settings.defaultLevel); if (e) return e; console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels") } return this.levels[1] } get levels() { const e = [{ number: 1, tag: "H1", svg: r }, { number: 2, tag: "H2", svg: o }, { number: 3, tag: "H3", svg: a }, { number: 4, tag: "H4", svg: h }, { number: 5, tag: "H5", svg: d }, { number: 6, tag: "H6", svg: u }]; return this._settings.levels ? e.filter(t => this._settings.levels.includes(t.number)) : e } onPaste(e) { const t = e.detail.data; let s = this.defaultLevel.number; switch (t.tagName) { case "H1": s = 1; break; case "H2": s = 2; break; case "H3": s = 3; break; case "H4": s = 4; break; case "H5": s = 5; break; case "H6": s = 6; break }this._settings.levels && (s = this._settings.levels.reduce((i, l) => Math.abs(l - s) < Math.abs(i - s) ? l : i)), this.data = { level: s, text: t.innerHTML } } static get pasteConfig() { return { tags: ["H1", "H2", "H3", "H4", "H5", "H6"] } } static get toolbox() { return { icon: g, title: "Heading" } } } return c});   
 

/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/link@2.6.2/dist/link.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode(`.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error .link-tool__input{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#f4f5f7;z-index:-1}.link-tool__progress--loading{-webkit-animation:progress .5s ease-in;-webkit-animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #fff;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#fff;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1)}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:17px;font-weight:600;line-height:1.5em;margin:0 0 10px}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:15px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}@-webkit-keyframes progress{0%{width:0}to{width:85%}}`)),document.head.appendChild(o)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function (L, T) { typeof exports == "object" && typeof module < "u" ? module.exports = T() : typeof define == "function" && define.amd ? define(T) : (L = typeof globalThis < "u" ? globalThis : L || self, L.LinkTool = T()) })(this, function () { "use strict"; const L = ""; var T = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function P(k) { return k && k.__esModule && Object.prototype.hasOwnProperty.call(k, "default") ? k.default : k } (function (k) { var w = function () { try { return !!Symbol.iterator } catch { return !1 } }, d = w(), v = function (n) { var o = { next: function () { var e = n.shift(); return { done: e === void 0, value: e } } }; return d && (o[Symbol.iterator] = function () { return o }), o }, c = function (n) { return encodeURIComponent(n).replace(/%20/g, "+") }, i = function (n) { return decodeURIComponent(String(n).replace(/\+/g, " ")) }, s = function () { var n = function (e) { Object.defineProperty(this, "_entries", { writable: !0, value: {} }); var a = typeof e; if (a !== "undefined") if (a === "string") e !== "" && this._fromString(e); else if (e instanceof n) { var h = this; e.forEach(function (u, f) { h.append(f, u) }) } else if (e !== null && a === "object") if (Object.prototype.toString.call(e) === "[object Array]") for (var t = 0; t < e.length; t++){ var y = e[t]; if (Object.prototype.toString.call(y) === "[object Array]" || y.length !== 2) this.append(y[0], y[1]); else throw new TypeError("Expected [string, any] as entry at index " + t + " of URLSearchParams's input") } else for (var r in e) e.hasOwnProperty(r) && this.append(r, e[r]); else throw new TypeError("Unsupported input's type for URLSearchParams") }, o = n.prototype; o.append = function (e, a) { e in this._entries ? this._entries[e].push(String(a)) : this._entries[e] = [String(a)] }, o.delete = function (e) { delete this._entries[e] }, o.get = function (e) { return e in this._entries ? this._entries[e][0] : null }, o.getAll = function (e) { return e in this._entries ? this._entries[e].slice(0) : [] }, o.has = function (e) { return e in this._entries }, o.set = function (e, a) { this._entries[e] = [String(a)] }, o.forEach = function (e, a) { var h; for (var t in this._entries) if (this._entries.hasOwnProperty(t)) { h = this._entries[t]; for (var y = 0; y < h.length; y++)e.call(a, h[y], t, this) } }, o.keys = function () { var e = []; return this.forEach(function (a, h) { e.push(h) }), v(e) }, o.values = function () { var e = []; return this.forEach(function (a) { e.push(a) }), v(e) }, o.entries = function () { var e = []; return this.forEach(function (a, h) { e.push([h, a]) }), v(e) }, d && (o[Symbol.iterator] = o.entries), o.toString = function () { var e = []; return this.forEach(function (a, h) { e.push(c(h) + "=" + c(a)) }), e.join("&") }, k.URLSearchParams = n }, p = function () { try { var n = k.URLSearchParams; return new n("?a=1").toString() === "a=1" && typeof n.prototype.set == "function" } catch { return !1 } }; p() || s(); var l = k.URLSearchParams.prototype; typeof l.sort != "function" && (l.sort = function () { var n = this, o = []; this.forEach(function (a, h) { o.push([h, a]), n._entries || n.delete(h) }), o.sort(function (a, h) { return a[0] < h[0] ? -1 : a[0] > h[0] ? 1 : 0 }), n._entries && (n._entries = {}); for (var e = 0; e < o.length; e++)this.append(o[e][0], o[e][1]) }), typeof l._fromString != "function" && Object.defineProperty(l, "_fromString", { enumerable: !1, configurable: !1, writable: !1, value: function (n) { if (this._entries) this._entries = {}; else { var o = []; this.forEach(function (t, y) { o.push(y) }); for (var e = 0; e < o.length; e++)this.delete(o[e]) } n = n.replace(/^\?/, ""); for (var a = n.split("&"), h, e = 0; e < a.length; e++)h = a[e].split("="), this.append(i(h[0]), h.length > 1 ? i(h[1]) : "") } }) })(typeof T < "u" ? T : typeof window < "u" ? window : typeof self < "u" ? self : T), function (k) { var w = function () { try { var c = new k.URL("b", "http://a"); return c.pathname = "c d", c.href === "http://a/c%20d" && c.searchParams } catch { return !1 } }, d = function () { var c = k.URL, i = function (l, n) { typeof l != "string" && (l = String(l)); var o = document, e; if (n && (k.location === void 0 || n !== k.location.href)) { o = document.implementation.createHTMLDocument(""), e = o.createElement("base"), e.href = n, o.head.appendChild(e); try { if (e.href.indexOf(n) !== 0) throw new Error(e.href) } catch (m) { throw new Error("URL unable to set base " + n + " due to " + m) } } var a = o.createElement("a"); a.href = l, e && (o.body.appendChild(a), a.href = a.href); var h = o.createElement("input"); if (h.type = "url", h.value = l, a.protocol === ":" || !/:/.test(a.href) || !h.checkValidity() && !n) throw new TypeError("Invalid URL"); Object.defineProperty(this, "_anchorElement", { value: a }); var t = new k.URLSearchParams(this.search), y = !0, r = !0, u = this;["append", "delete", "set"].forEach(function (m) { var b = t[m]; t[m] = function () { b.apply(t, arguments), y && (r = !1, u.search = t.toString(), r = !0) } }), Object.defineProperty(this, "searchParams", { value: t, enumerable: !0 }); var f = void 0; Object.defineProperty(this, "_updateSearchParams", { enumerable: !1, configurable: !1, writable: !1, value: function () { this.search !== f && (f = this.search, r && (y = !1, this.searchParams._fromString(this.search), y = !0)) } }) }, s = i.prototype, p = function (l) { Object.defineProperty(s, l, { get: function () { return this._anchorElement[l] }, set: function (n) { this._anchorElement[l] = n }, enumerable: !0 }) };["hash", "host", "hostname", "port", "protocol"].forEach(function (l) { p(l) }), Object.defineProperty(s, "search", { get: function () { return this._anchorElement.search }, set: function (l) { this._anchorElement.search = l, this._updateSearchParams() }, enumerable: !0 }), Object.defineProperties(s, { toString: { get: function () { var l = this; return function () { return l.href } } }, href: { get: function () { return this._anchorElement.href.replace(/\?$/, "") }, set: function (l) { this._anchorElement.href = l, this._updateSearchParams() }, enumerable: !0 }, pathname: { get: function () { return this._anchorElement.pathname.replace(/(^\/?)/, "/") }, set: function (l) { this._anchorElement.pathname = l }, enumerable: !0 }, origin: { get: function () { var l = { "http:": 80, "https:": 443, "ftp:": 21 }[this._anchorElement.protocol], n = this._anchorElement.port != l && this._anchorElement.port !== ""; return this._anchorElement.protocol + "//" + this._anchorElement.hostname + (n ? ":" + this._anchorElement.port : "") }, enumerable: !0 }, password: { get: function () { return "" }, set: function (l) { }, enumerable: !0 }, username: { get: function () { return "" }, set: function (l) { }, enumerable: !0 } }), i.createObjectURL = function (l) { return c.createObjectURL.apply(c, arguments) }, i.revokeObjectURL = function (l) { return c.revokeObjectURL.apply(c, arguments) }, k.URL = i }; if (w() || d(), k.location !== void 0 && !("origin" in k.location)) { var v = function () { return k.location.protocol + "//" + k.location.hostname + (k.location.port ? ":" + k.location.port : "") }; try { Object.defineProperty(k.location, "origin", { get: v, enumerable: !0 }) } catch { setInterval(function () { k.location.origin = v() }, 100) } } }(typeof T < "u" ? T : typeof window < "u" ? window : typeof self < "u" ? self : T); var O = { exports: {} }; (function (k, w) { (function (d, v) { k.exports = v() })(window, function () { return function (d) { var v = {}; function c(i) { if (v[i]) return v[i].exports; var s = v[i] = { i, l: !1, exports: {} }; return d[i].call(s.exports, s, s.exports, c), s.l = !0, s.exports } return c.m = d, c.c = v, c.d = function (i, s, p) { c.o(i, s) || Object.defineProperty(i, s, { enumerable: !0, get: p }) }, c.r = function (i) { typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(i, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(i, "__esModule", { value: !0 }) }, c.t = function (i, s) { if (1 & s && (i = c(i)), 8 & s || 4 & s && typeof i == "object" && i && i.__esModule) return i; var p = Object.create(null); if (c.r(p), Object.defineProperty(p, "default", { enumerable: !0, value: i }), 2 & s && typeof i != "string") for (var l in i) c.d(p, l, (function (n) { return i[n] }).bind(null, l)); return p }, c.n = function (i) { var s = i && i.__esModule ? function () { return i.default } : function () { return i }; return c.d(s, "a", s), s }, c.o = function (i, s) { return Object.prototype.hasOwnProperty.call(i, s) }, c.p = "", c(c.s = 3) }([function (d, v) { var c; c = function () { return this }(); try { c = c || new Function("return this")() } catch { typeof window == "object" && (c = window) } d.exports = c }, function (d, v, c) { (function (i) { var s = c(2), p = setTimeout; function l() { } function n(r) { if (!(this instanceof n)) throw new TypeError("Promises must be constructed via new"); if (typeof r != "function") throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], y(r, this) } function o(r, u) { for (; r._state === 3;)r = r._value; r._state !== 0 ? (r._handled = !0, n._immediateFn(function () { var f = r._state === 1 ? u.onFulfilled : u.onRejected; if (f !== null) { var m; try { m = f(r._value) } catch (b) { return void a(u.promise, b) } e(u.promise, m) } else (r._state === 1 ? e : a)(u.promise, r._value) })) : r._deferreds.push(u) } function e(r, u) { try { if (u === r) throw new TypeError("A promise cannot be resolved with itself."); if (u && (typeof u == "object" || typeof u == "function")) { var f = u.then; if (u instanceof n) return r._state = 3, r._value = u, void h(r); if (typeof f == "function") return void y((m = f, b = u, function () { m.apply(b, arguments) }), r) } r._state = 1, r._value = u, h(r) } catch (g) { a(r, g) } var m, b } function a(r, u) { r._state = 2, r._value = u, h(r) } function h(r) { r._state === 2 && r._deferreds.length === 0 && n._immediateFn(function () { r._handled || n._unhandledRejectionFn(r._value) }); for (var u = 0, f = r._deferreds.length; u < f; u++)o(r, r._deferreds[u]); r._deferreds = null } function t(r, u, f) { this.onFulfilled = typeof r == "function" ? r : null, this.onRejected = typeof u == "function" ? u : null, this.promise = f } function y(r, u) { var f = !1; try { r(function (m) { f || (f = !0, e(u, m)) }, function (m) { f || (f = !0, a(u, m)) }) } catch (m) { if (f) return; f = !0, a(u, m) } } n.prototype.catch = function (r) { return this.then(null, r) }, n.prototype.then = function (r, u) { var f = new this.constructor(l); return o(this, new t(r, u, f)), f }, n.prototype.finally = s.a, n.all = function (r) { return new n(function (u, f) { if (!r || r.length === void 0) throw new TypeError("Promise.all accepts an array"); var m = Array.prototype.slice.call(r); if (m.length === 0) return u([]); var b = m.length; function g(C, E) { try { if (E && (typeof E == "object" || typeof E == "function")) { var S = E.then; if (typeof S == "function") return void S.call(E, function (j) { g(C, j) }, f) } m[C] = E, --b == 0 && u(m) } catch (j) { f(j) } } for (var _ = 0; _ < m.length; _++)g(_, m[_]) }) }, n.resolve = function (r) { return r && typeof r == "object" && r.constructor === n ? r : new n(function (u) { u(r) }) }, n.reject = function (r) { return new n(function (u, f) { f(r) }) }, n.race = function (r) { return new n(function (u, f) { for (var m = 0, b = r.length; m < b; m++)r[m].then(u, f) }) }, n._immediateFn = typeof i == "function" && function (r) { i(r) } || function (r) { p(r, 0) }, n._unhandledRejectionFn = function (r) { typeof console < "u" && console && console.warn("Possible Unhandled Promise Rejection:", r) }, v.a = n }).call(this, c(5).setImmediate) }, function (d, v, c) { v.a = function (i) { var s = this.constructor; return this.then(function (p) { return s.resolve(i()).then(function () { return p }) }, function (p) { return s.resolve(i()).then(function () { return s.reject(p) }) }) } }, function (d, v, c) { function i(t) { return (i = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (y) { return typeof y } : function (y) { return y && typeof Symbol == "function" && y.constructor === Symbol && y !== Symbol.prototype ? "symbol" : typeof y })(t) } c(4); var s, p, l, n, o, e, a = c(8), h = (p = function (t) { return new Promise(function (y, r) { t = n(t), t = o(t); var u = window.XMLHttpRequest ? new window.XMLHttpRequest : new window.ActiveXObject("Microsoft.XMLHTTP"); u.open(t.method, t.url), u.setRequestHeader("X-Requested-With", "XMLHttpRequest"), Object.keys(t.headers).forEach(function (m) { var b = t.headers[m]; u.setRequestHeader(m, b) }); var f = t.ratio; u.upload.addEventListener("progress", function (m) { var b = Math.round(m.loaded / m.total * 100), g = Math.ceil(b * f / 100); t.progress(g) }, !1), u.addEventListener("progress", function (m) { var b = Math.round(m.loaded / m.total * 100), g = Math.ceil(b * (100 - f) / 100) + f; t.progress(g) }, !1), u.onreadystatechange = function () { if (u.readyState === 4) { var m = u.response; try { m = JSON.parse(m) } catch { } var b = a.parseHeaders(u.getAllResponseHeaders()), g = { body: m, code: u.status, headers: b }; u.status === 200 ? y(g) : r(g) } }, u.send(t.data) }) }, l = function (t) { return t.method = "POST", p(t) }, n = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; if (t.url && typeof t.url != "string") throw new Error("Url must be a string"); if (t.url = t.url || "", t.method && typeof t.method != "string") throw new Error("`method` must be a string or null"); if (t.method = t.method ? t.method.toUpperCase() : "GET", t.headers && i(t.headers) !== "object") throw new Error("`headers` must be an object or null"); if (t.headers = t.headers || {}, t.type && (typeof t.type != "string" || !Object.values(s).includes(t.type))) throw new Error("`type` must be taken from module's «contentType» library"); if (t.progress && typeof t.progress != "function") throw new Error("`progress` must be a function or null"); if (t.progress = t.progress || function (y) { }, t.beforeSend = t.beforeSend || function (y) { }, t.ratio && typeof t.ratio != "number") throw new Error("`ratio` must be a number"); if (t.ratio < 0 || t.ratio > 100) throw new Error("`ratio` must be in a 0-100 interval"); if (t.ratio = t.ratio || 90, t.accept && typeof t.accept != "string") throw new Error("`accept` must be a string with a list of allowed mime-types"); if (t.accept = t.accept || "*/*", t.multiple && typeof t.multiple != "boolean") throw new Error("`multiple` must be a true or false"); if (t.multiple = t.multiple || !1, t.fieldName && typeof t.fieldName != "string") throw new Error("`fieldName` must be a string"); return t.fieldName = t.fieldName || "files", t }, o = function (t) { switch (t.method) { case "GET": var y = e(t.data, s.URLENCODED); delete t.data, t.url = /\?/.test(t.url) ? t.url + "&" + y : t.url + "?" + y; break; case "POST": case "PUT": case "DELETE": case "UPDATE": var r = function () { return (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}).type || s.JSON }(t); (a.isFormData(t.data) || a.isFormElement(t.data)) && (r = s.FORM), t.data = e(t.data, r), r !== h.contentType.FORM && (t.headers["content-type"] = r) }return t }, e = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; switch (arguments.length > 1 ? arguments[1] : void 0) { case s.URLENCODED: return a.urlEncode(t); case s.JSON: return a.jsonEncode(t); case s.FORM: return a.formEncode(t); default: return t } }, { contentType: s = { URLENCODED: "application/x-www-form-urlencoded; charset=utf-8", FORM: "multipart/form-data", JSON: "application/json; charset=utf-8" }, request: p, get: function (t) { return t.method = "GET", p(t) }, post: l, transport: function (t) { return t = n(t), a.selectFiles(t).then(function (y) { for (var r = new FormData, u = 0; u < y.length; u++)r.append(t.fieldName, y[u], y[u].name); return a.isObject(t.data) && Object.keys(t.data).forEach(function (f) { var m = t.data[f]; r.append(f, m) }), t.beforeSend && t.beforeSend(y), t.data = r, l(t) }) }, selectFiles: function (t) { return delete (t = n(t)).beforeSend, a.selectFiles(t) } }); d.exports = h }, function (d, v, c) { c.r(v); var i = c(1); window.Promise = window.Promise || i.a }, function (d, v, c) { (function (i) { var s = i !== void 0 && i || typeof self < "u" && self || window, p = Function.prototype.apply; function l(n, o) { this._id = n, this._clearFn = o } v.setTimeout = function () { return new l(p.call(setTimeout, s, arguments), clearTimeout) }, v.setInterval = function () { return new l(p.call(setInterval, s, arguments), clearInterval) }, v.clearTimeout = v.clearInterval = function (n) { n && n.close() }, l.prototype.unref = l.prototype.ref = function () { }, l.prototype.close = function () { this._clearFn.call(s, this._id) }, v.enroll = function (n, o) { clearTimeout(n._idleTimeoutId), n._idleTimeout = o }, v.unenroll = function (n) { clearTimeout(n._idleTimeoutId), n._idleTimeout = -1 }, v._unrefActive = v.active = function (n) { clearTimeout(n._idleTimeoutId); var o = n._idleTimeout; o >= 0 && (n._idleTimeoutId = setTimeout(function () { n._onTimeout && n._onTimeout() }, o)) }, c(6), v.setImmediate = typeof self < "u" && self.setImmediate || i !== void 0 && i.setImmediate || this && this.setImmediate, v.clearImmediate = typeof self < "u" && self.clearImmediate || i !== void 0 && i.clearImmediate || this && this.clearImmediate }).call(this, c(0)) }, function (d, v, c) { (function (i, s) { (function (p, l) { if (!p.setImmediate) { var n, o, e, a, h, t = 1, y = {}, r = !1, u = p.document, f = Object.getPrototypeOf && Object.getPrototypeOf(p); f = f && f.setTimeout ? f : p, {}.toString.call(p.process) === "[object process]" ? n = function (g) { s.nextTick(function () { b(g) }) } : function () { if (p.postMessage && !p.importScripts) { var g = !0, _ = p.onmessage; return p.onmessage = function () { g = !1 }, p.postMessage("", "*"), p.onmessage = _, g } }() ? (a = "setImmediate$" + Math.random() + "$", h = function (g) { g.source === p && typeof g.data == "string" && g.data.indexOf(a) === 0 && b(+g.data.slice(a.length)) }, p.addEventListener ? p.addEventListener("message", h, !1) : p.attachEvent("onmessage", h), n = function (g) { p.postMessage(a + g, "*") }) : p.MessageChannel ? ((e = new MessageChannel).port1.onmessage = function (g) { b(g.data) }, n = function (g) { e.port2.postMessage(g) }) : u && "onreadystatechange" in u.createElement("script") ? (o = u.documentElement, n = function (g) { var _ = u.createElement("script"); _.onreadystatechange = function () { b(g), _.onreadystatechange = null, o.removeChild(_), _ = null }, o.appendChild(_) }) : n = function (g) { setTimeout(b, 0, g) }, f.setImmediate = function (g) { typeof g != "function" && (g = new Function("" + g)); for (var _ = new Array(arguments.length - 1), C = 0; C < _.length; C++)_[C] = arguments[C + 1]; var E = { callback: g, args: _ }; return y[t] = E, n(t), t++ }, f.clearImmediate = m } function m(g) { delete y[g] } function b(g) { if (r) setTimeout(b, 0, g); else { var _ = y[g]; if (_) { r = !0; try { (function (C) { var E = C.callback, S = C.args; switch (S.length) { case 0: E(); break; case 1: E(S[0]); break; case 2: E(S[0], S[1]); break; case 3: E(S[0], S[1], S[2]); break; default: E.apply(l, S) } })(_) } finally { m(g), r = !1 } } } } })(typeof self > "u" ? i === void 0 ? this : i : self) }).call(this, c(0), c(7)) }, function (d, v) { var c, i, s = d.exports = {}; function p() { throw new Error("setTimeout has not been defined") } function l() { throw new Error("clearTimeout has not been defined") } function n(f) { if (c === setTimeout) return setTimeout(f, 0); if ((c === p || !c) && setTimeout) return c = setTimeout, setTimeout(f, 0); try { return c(f, 0) } catch { try { return c.call(null, f, 0) } catch { return c.call(this, f, 0) } } } (function () { try { c = typeof setTimeout == "function" ? setTimeout : p } catch { c = p } try { i = typeof clearTimeout == "function" ? clearTimeout : l } catch { i = l } })(); var o, e = [], a = !1, h = -1; function t() { a && o && (a = !1, o.length ? e = o.concat(e) : h = -1, e.length && y()) } function y() { if (!a) { var f = n(t); a = !0; for (var m = e.length; m;){ for (o = e, e = []; ++h < m;)o && o[h].run(); h = -1, m = e.length } o = null, a = !1, function (b) { if (i === clearTimeout) return clearTimeout(b); if ((i === l || !i) && clearTimeout) return i = clearTimeout, clearTimeout(b); try { i(b) } catch { try { return i.call(null, b) } catch { return i.call(this, b) } } }(f) } } function r(f, m) { this.fun = f, this.array = m } function u() { } s.nextTick = function (f) { var m = new Array(arguments.length - 1); if (arguments.length > 1) for (var b = 1; b < arguments.length; b++)m[b - 1] = arguments[b]; e.push(new r(f, m)), e.length !== 1 || a || n(y) }, r.prototype.run = function () { this.fun.apply(null, this.array) }, s.title = "browser", s.browser = !0, s.env = {}, s.argv = [], s.version = "", s.versions = {}, s.on = u, s.addListener = u, s.once = u, s.off = u, s.removeListener = u, s.removeAllListeners = u, s.emit = u, s.prependListener = u, s.prependOnceListener = u, s.listeners = function (f) { return [] }, s.binding = function (f) { throw new Error("process.binding is not supported") }, s.cwd = function () { return "/" }, s.chdir = function (f) { throw new Error("process.chdir is not supported") }, s.umask = function () { return 0 } }, function (d, v, c) { function i(p, l) { for (var n = 0; n < l.length; n++){ var o = l[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(p, o.key, o) } } var s = c(9); d.exports = function () { function p() { (function (e, a) { if (!(e instanceof a)) throw new TypeError("Cannot call a class as a function") })(this, p) } var l, n, o; return l = p, o = [{ key: "urlEncode", value: function (e) { return s(e) } }, { key: "jsonEncode", value: function (e) { return JSON.stringify(e) } }, { key: "formEncode", value: function (e) { if (this.isFormData(e)) return e; if (this.isFormElement(e)) return new FormData(e); if (this.isObject(e)) { var a = new FormData; return Object.keys(e).forEach(function (h) { var t = e[h]; a.append(h, t) }), a } throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement") } }, { key: "isObject", value: function (e) { return Object.prototype.toString.call(e) === "[object Object]" } }, { key: "isFormData", value: function (e) { return e instanceof FormData } }, { key: "isFormElement", value: function (e) { return e instanceof HTMLFormElement } }, { key: "selectFiles", value: function () { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; return new Promise(function (a, h) { var t = document.createElement("INPUT"); t.type = "file", e.multiple && t.setAttribute("multiple", "multiple"), e.accept && t.setAttribute("accept", e.accept), t.style.display = "none", document.body.appendChild(t), t.addEventListener("change", function (y) { var r = y.target.files; a(r), document.body.removeChild(t) }, !1), t.click() }) } }, { key: "parseHeaders", value: function (e) { var a = e.trim().split(/[\r\n]+/), h = {}; return a.forEach(function (t) { var y = t.split(": "), r = y.shift(), u = y.join(": "); r && (h[r] = u) }), h } }], (n = null) && i(l.prototype, n), o && i(l, o), p }() }, function (d, v) { var c = function (s) { return encodeURIComponent(s).replace(/[!'()*]/g, escape).replace(/%20/g, "+") }, i = function (s, p, l, n) { return p = p || null, l = l || "&", n = n || null, s ? function (o) { for (var e = new Array, a = 0; a < o.length; a++)o[a] && e.push(o[a]); return e }(Object.keys(s).map(function (o) { var e, a, h = o; if (n && (h = n + "[" + h + "]"), typeof s[o] == "object" && s[o] !== null) e = i(s[o], null, l, h); else { p && (a = h, h = !isNaN(parseFloat(a)) && isFinite(a) ? p + Number(h) : h); var t = s[o]; t = (t = (t = (t = t === !0 ? "1" : t) === !1 ? "0" : t) === 0 ? "0" : t) || "", e = c(h) + "=" + c(t) } return e })).join(l).replace(/[!'()*]/g, "") : "" }; d.exports = i }]) }) })(O); var R = O.exports; const F = P(R), I = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>'; class x{ static get isReadOnlySupported() { return !0 } static get toolbox() { return { icon: I, title: "Link" } } static get enableLineBreaks() { return !0 } constructor({ data: w, config: d, api: v, readOnly: c }) { this.api = v, this.readOnly = c, this.config = { endpoint: d.endpoint || "", headers: d.headers || {} }, this.nodes = { wrapper: null, container: null, progress: null, input: null, inputHolder: null, linkContent: null, linkImage: null, linkTitle: null, linkDescription: null, linkText: null }, this._data = { link: "", meta: {} }, this.data = w } render() { return this.nodes.wrapper = this.make("div", this.CSS.baseClass), this.nodes.container = this.make("div", this.CSS.container), this.nodes.inputHolder = this.makeInputHolder(), this.nodes.linkContent = this.prepareLinkPreview(), Object.keys(this.data.meta).length ? (this.nodes.container.appendChild(this.nodes.linkContent), this.showLinkPreview(this.data.meta)) : this.nodes.container.appendChild(this.nodes.inputHolder), this.nodes.wrapper.appendChild(this.nodes.container), this.nodes.wrapper } save() { return this.data } validate() { return this.data.link.trim() !== "" } set data(w) { this._data = Object.assign({}, { link: w.link || this._data.link, meta: w.meta || this._data.meta }) } get data() { return this._data } get CSS() { return { baseClass: this.api.styles.block, input: this.api.styles.input, container: "link-tool", inputEl: "link-tool__input", inputHolder: "link-tool__input-holder", inputError: "link-tool__input-holder--error", linkContent: "link-tool__content", linkContentRendered: "link-tool__content--rendered", linkImage: "link-tool__image", linkTitle: "link-tool__title", linkDescription: "link-tool__description", linkText: "link-tool__anchor", progress: "link-tool__progress", progressLoading: "link-tool__progress--loading", progressLoaded: "link-tool__progress--loaded" } } makeInputHolder() { const w = this.make("div", this.CSS.inputHolder); return this.nodes.progress = this.make("label", this.CSS.progress), this.nodes.input = this.make("div", [this.CSS.input, this.CSS.inputEl], { contentEditable: !this.readOnly }), this.nodes.input.dataset.placeholder = this.api.i18n.t("Link"), this.readOnly || (this.nodes.input.addEventListener("paste", d => { this.startFetching(d) }), this.nodes.input.addEventListener("keydown", d => { const [v, c] = [13, 65], i = d.ctrlKey || d.metaKey; switch (d.keyCode) { case v: d.preventDefault(), d.stopPropagation(), this.startFetching(d); break; case c: i && this.selectLinkUrl(d); break } })), w.appendChild(this.nodes.progress), w.appendChild(this.nodes.input), w } startFetching(w) { let d = this.nodes.input.textContent; w.type === "paste" && (d = (w.clipboardData || window.clipboardData).getData("text")), this.removeErrorStyle(), this.fetchLinkData(d) } removeErrorStyle() { this.nodes.inputHolder.classList.remove(this.CSS.inputError), this.nodes.inputHolder.insertBefore(this.nodes.progress, this.nodes.input) } selectLinkUrl(w) { w.preventDefault(), w.stopPropagation(); const d = window.getSelection(), v = new Range, s = d.anchorNode.parentNode.closest(`.${this.CSS.inputHolder}`).querySelector(`.${this.CSS.inputEl}`); v.selectNodeContents(s), d.removeAllRanges(), d.addRange(v) } prepareLinkPreview() { const w = this.make("a", this.CSS.linkContent, { target: "_blank", rel: "nofollow noindex noreferrer" }); return this.nodes.linkImage = this.make("div", this.CSS.linkImage), this.nodes.linkTitle = this.make("div", this.CSS.linkTitle), this.nodes.linkDescription = this.make("p", this.CSS.linkDescription), this.nodes.linkText = this.make("span", this.CSS.linkText), w } showLinkPreview({ image: w, title: d, description: v }) { this.nodes.container.appendChild(this.nodes.linkContent), w && w.url && (this.nodes.linkImage.style.backgroundImage = "url(" + w.url + ")", this.nodes.linkContent.appendChild(this.nodes.linkImage)), d && (this.nodes.linkTitle.textContent = d, this.nodes.linkContent.appendChild(this.nodes.linkTitle)), v && (this.nodes.linkDescription.textContent = v, this.nodes.linkContent.appendChild(this.nodes.linkDescription)), this.nodes.linkContent.classList.add(this.CSS.linkContentRendered), this.nodes.linkContent.setAttribute("href", this.data.link), this.nodes.linkContent.appendChild(this.nodes.linkText); try { this.nodes.linkText.textContent = new URL(this.data.link).hostname } catch { this.nodes.linkText.textContent = this.data.link } } showProgress() { this.nodes.progress.classList.add(this.CSS.progressLoading) } hideProgress() { return new Promise(w => { this.nodes.progress.classList.remove(this.CSS.progressLoading), this.nodes.progress.classList.add(this.CSS.progressLoaded), setTimeout(w, 500) }) } applyErrorStyle() { this.nodes.inputHolder.classList.add(this.CSS.inputError), this.nodes.progress.remove() } async fetchLinkData(w) { this.showProgress(), this.data = { link: w }; try { const { body: d } = await F.get({ url: this.config.endpoint, headers: this.config.headers, data: { url: w } }); this.onFetch(d) } catch { this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data")) } } onFetch(w) { if (!w || !w.success) { this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one")); return } const d = w.meta, v = w.link || this.data.link; if (this.data = { meta: d, link: v }, !d) { this.fetchingFailed(this.api.i18n.t("Wrong response format from the server")); return } this.hideProgress().then(() => { this.nodes.inputHolder.remove(), this.showLinkPreview(d) }) } fetchingFailed(w) { this.api.notifier.show({ message: w, style: "error" }), this.applyErrorStyle() } make(w, d = null, v = {}) { const c = document.createElement(w); Array.isArray(d) ? c.classList.add(...d) : d && c.classList.add(d); for (const i in v) c[i] = v[i]; return c } } return x });

/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/raw@2.5.0/dist/raw.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
(function(s,t){typeof exports=="object"&&typeof module<"u"?module.exports=t():typeof define=="function"&&define.amd?define(t):(s=typeof globalThis<"u"?globalThis:s||self,s.RawTool=t())})(this,function(){"use strict";const s="",t='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>';/**
 * Raw HTML Tool for CodeX Editor
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class i{static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:t,title:"Raw HTML"}}constructor({data:e,config:r,api:a,readOnly:n}){this.api=a,this.readOnly=n,this.placeholder=r.placeholder||i.DEFAULT_PLACEHOLDER,this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:e.html||""},this.textarea=null,this.resizeDebounce=null}render(){const e=document.createElement("div"),r=100;return this.textarea=document.createElement("textarea"),e.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",()=>{this.onInput()}),e.appendChild(this.textarea),setTimeout(()=>{this.resize()},r),e}save(e){return{html:e.querySelector("textarea").value}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(()=>{this.resize()},200)}resize(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}}return i});



 /**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/simple-image@1.6.0/dist/simple-image.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-simple-image .cdx-loader{min-height:200px}.cdx-simple-image .cdx-input{margin-top:10px}.cdx-simple-image img{max-width:100%;vertical-align:bottom}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-simple-image__picture--with-background{background:#eff2f5;padding:10px}.cdx-simple-image__picture--with-background img{display:block;max-width:60%;margin:0 auto}.cdx-simple-image__picture--with-border{border:1px solid #e8e8eb;padding:1px}.cdx-simple-image__picture--stretched img{max-width:none;width:100%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function (s, n) { typeof exports == "object" && typeof module < "u" ? module.exports = n() : typeof define == "function" && define.amd ? define(n) : (s = typeof globalThis < "u" ? globalThis : s || self, s.SimpleImage = n()) })(this, function () { "use strict"; const s = "", n = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>', a = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>', d = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>'; class l{ constructor({ data: e, config: t, api: r, readOnly: i }) { this.api = r, this.readOnly = i, this.blockIndex = this.api.blocks.getCurrentBlockIndex() + 1, this.CSS = { baseClass: this.api.styles.block, loading: this.api.styles.loader, input: this.api.styles.input, wrapper: "cdx-simple-image", imageHolder: "cdx-simple-image__picture", caption: "cdx-simple-image__caption" }, this.nodes = { wrapper: null, imageHolder: null, image: null, caption: null }, this.data = { url: e.url || "", caption: e.caption || "", withBorder: e.withBorder !== void 0 ? e.withBorder : !1, withBackground: e.withBackground !== void 0 ? e.withBackground : !1, stretched: e.stretched !== void 0 ? e.stretched : !1 }, this.tunes = [{ name: "withBorder", label: "Add Border", icon: a }, { name: "stretched", label: "Stretch Image", icon: d }, { name: "withBackground", label: "Add Background", icon: n }] } render() { const e = this._make("div", [this.CSS.baseClass, this.CSS.wrapper]), t = this._make("div", this.CSS.loading), r = this._make("div", this.CSS.imageHolder), i = this._make("img"), o = this._make("div", [this.CSS.input, this.CSS.caption], { contentEditable: !this.readOnly, innerHTML: this.data.caption || "" }); return o.dataset.placeholder = "Enter a caption", e.appendChild(t), this.data.url && (i.src = this.data.url), i.onload = () => { e.classList.remove(this.CSS.loading), r.appendChild(i), e.appendChild(r), e.appendChild(o), t.remove(), this._acceptTuneView() }, i.onerror = h => { console.log("Failed to load an image", h) }, this.nodes.imageHolder = r, this.nodes.wrapper = e, this.nodes.image = i, this.nodes.caption = o, e } save(e) { const t = e.querySelector("img"), r = e.querySelector("." + this.CSS.input); return t ? Object.assign(this.data, { url: t.src, caption: r.innerHTML }) : this.data } static get sanitize() { return { url: {}, withBorder: {}, withBackground: {}, stretched: {}, caption: { br: !0 } } } static get isReadOnlySupported() { return !0 } onDropHandler(e) { const t = new FileReader; return t.readAsDataURL(e), new Promise(r => { t.onload = i => { r({ url: i.target.result, caption: e.name }) } }) } onPaste(e) { switch (e.type) { case "tag": { const t = e.detail.data; this.data = { url: t.src }; break } case "pattern": { const { data: t } = e.detail; this.data = { url: t }; break } case "file": { const { file: t } = e.detail; this.onDropHandler(t).then(r => { this.data = r }); break } } } get data() { return this._data } set data(e) { this._data = Object.assign({}, this.data, e), this.nodes.image && (this.nodes.image.src = this.data.url), this.nodes.caption && (this.nodes.caption.innerHTML = this.data.caption) } static get pasteConfig() { return { patterns: { image: /https?:\/\/\S+\.(gif|jpe?g|tiff|png|webp)$/i }, tags: [{ img: { src: !0 } }], files: { mimeTypes: ["image/*"] } } } renderSettings() { return this.tunes.map(e => ({ ...e, label: this.api.i18n.t(e.label), toggle: !0, onActivate: () => this._toggleTune(e.name), isActive: !!this.data[e.name] })) } _make(e, t = null, r = {}) { const i = document.createElement(e); Array.isArray(t) ? i.classList.add(...t) : t && i.classList.add(t); for (const o in r) i[o] = r[o]; return i } _toggleTune(e) { this.data[e] = !this.data[e], this._acceptTuneView() } _acceptTuneView() { this.tunes.forEach(e => { this.nodes.imageHolder.classList.toggle(this.CSS.imageHolder + "--" + e.name.replace(/([A-Z])/g, t => `-${t[0].toLowerCase()}`), !!this.data[e.name]), e.name === "stretched" && this.api.blocks.stretchBlock(this.blockIndex, !!this.data.stretched) }) } } return l });



/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/image@2.9.0/dist/image.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(o)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function (_, O) { typeof exports == "object" && typeof module < "u" ? module.exports = O() : typeof define == "function" && define.amd ? define(O) : (_ = typeof globalThis < "u" ? globalThis : _ || self, _.ImageTool = O()) })(this, function () {
    "use strict"; const _ = "", O = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>', D = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>', R = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>', x = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>'; function M(E, a = null, i = {}) { const c = document.createElement(E); Array.isArray(a) ? c.classList.add(...a) : a && c.classList.add(a); for (const r in i) c[r] = i[r]; return c } class T{ constructor({ api: a, config: i, onSelectFile: c, readOnly: r }) { this.api = a, this.config = i, this.onSelectFile = c, this.readOnly = r, this.nodes = { wrapper: M("div", [this.CSS.baseClass, this.CSS.wrapper]), imageContainer: M("div", [this.CSS.imageContainer]), fileButton: this.createFileButton(), imageEl: void 0, imagePreloader: M("div", this.CSS.imagePreloader), caption: M("div", [this.CSS.input, this.CSS.caption], { contentEditable: !this.readOnly }) }, this.nodes.caption.dataset.placeholder = this.config.captionPlaceholder, this.nodes.imageContainer.appendChild(this.nodes.imagePreloader), this.nodes.wrapper.appendChild(this.nodes.imageContainer), this.nodes.wrapper.appendChild(this.nodes.caption), this.nodes.wrapper.appendChild(this.nodes.fileButton) } get CSS() { return { baseClass: this.api.styles.block, loading: this.api.styles.loader, input: this.api.styles.input, button: this.api.styles.button, wrapper: "image-tool", imageContainer: "image-tool__image", imagePreloader: "image-tool__image-preloader", imageEl: "image-tool__image-picture", caption: "image-tool__caption" } } static get status() { return { EMPTY: "empty", UPLOADING: "loading", FILLED: "filled" } } render(a) { return !a.file || Object.keys(a.file).length === 0 ? this.toggleStatus(T.status.EMPTY) : this.toggleStatus(T.status.UPLOADING), this.nodes.wrapper } createFileButton() { const a = M("div", [this.CSS.button]); return a.innerHTML = this.config.buttonContent || `${R} ${this.api.i18n.t("Select an Image")}`, a.addEventListener("click", () => { this.onSelectFile() }), a } showPreloader(a) { this.nodes.imagePreloader.style.backgroundImage = `url(${a})`, this.toggleStatus(T.status.UPLOADING) } hidePreloader() { this.nodes.imagePreloader.style.backgroundImage = "", this.toggleStatus(T.status.EMPTY) } fillImage(a) { const i = /\.mp4$/.test(a) ? "VIDEO" : "IMG", c = { src: a }; let r = "load"; i === "VIDEO" && (c.autoplay = !0, c.loop = !0, c.muted = !0, c.playsinline = !0, r = "loadeddata"), this.nodes.imageEl = M(i, this.CSS.imageEl, c), this.nodes.imageEl.addEventListener(r, () => { this.toggleStatus(T.status.FILLED), this.nodes.imagePreloader && (this.nodes.imagePreloader.style.backgroundImage = "") }), this.nodes.imageContainer.appendChild(this.nodes.imageEl) } fillCaption(a) { this.nodes.caption && (this.nodes.caption.innerHTML = a) } toggleStatus(a) { for (const i in T.status) Object.prototype.hasOwnProperty.call(T.status, i) && this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${T.status[i]}`, a === T.status[i]) } applyTune(a, i) { this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${a}`, i) } } function U(E) { return E && E.__esModule && Object.prototype.hasOwnProperty.call(E, "default") ? E.default : E } var H = { exports: {} }; (function (E, a) { (function (i, c) { E.exports = c() })(window, function () { return function (i) { var c = {}; function r(n) { if (c[n]) return c[n].exports; var o = c[n] = { i: n, l: !1, exports: {} }; return i[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } return r.m = i, r.c = c, r.d = function (n, o, d) { r.o(n, o) || Object.defineProperty(n, o, { enumerable: !0, get: d }) }, r.r = function (n) { typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: !0 }) }, r.t = function (n, o) { if (1 & o && (n = r(n)), 8 & o || 4 & o && typeof n == "object" && n && n.__esModule) return n; var d = Object.create(null); if (r.r(d), Object.defineProperty(d, "default", { enumerable: !0, value: n }), 2 & o && typeof n != "string") for (var b in n) r.d(d, b, (function (u) { return n[u] }).bind(null, b)); return d }, r.n = function (n) { var o = n && n.__esModule ? function () { return n.default } : function () { return n }; return r.d(o, "a", o), o }, r.o = function (n, o) { return Object.prototype.hasOwnProperty.call(n, o) }, r.p = "", r(r.s = 3) }([function (i, c) { var r; r = function () { return this }(); try { r = r || new Function("return this")() } catch { typeof window == "object" && (r = window) } i.exports = r }, function (i, c, r) { (function (n) { var o = r(2), d = setTimeout; function b() { } function u(e) { if (!(this instanceof u)) throw new TypeError("Promises must be constructed via new"); if (typeof e != "function") throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], t(e, this) } function p(e, l) { for (; e._state === 3;)e = e._value; e._state !== 0 ? (e._handled = !0, u._immediateFn(function () { var s = e._state === 1 ? l.onFulfilled : l.onRejected; if (s !== null) { var g; try { g = s(e._value) } catch (m) { return void y(l.promise, m) } f(l.promise, g) } else (e._state === 1 ? f : y)(l.promise, e._value) })) : e._deferreds.push(l) } function f(e, l) { try { if (l === e) throw new TypeError("A promise cannot be resolved with itself."); if (l && (typeof l == "object" || typeof l == "function")) { var s = l.then; if (l instanceof u) return e._state = 3, e._value = l, void w(e); if (typeof s == "function") return void t((g = s, m = l, function () { g.apply(m, arguments) }), e) } e._state = 1, e._value = l, w(e) } catch (h) { y(e, h) } var g, m } function y(e, l) { e._state = 2, e._value = l, w(e) } function w(e) { e._state === 2 && e._deferreds.length === 0 && u._immediateFn(function () { e._handled || u._unhandledRejectionFn(e._value) }); for (var l = 0, s = e._deferreds.length; l < s; l++)p(e, e._deferreds[l]); e._deferreds = null } function v(e, l, s) { this.onFulfilled = typeof e == "function" ? e : null, this.onRejected = typeof l == "function" ? l : null, this.promise = s } function t(e, l) { var s = !1; try { e(function (g) { s || (s = !0, f(l, g)) }, function (g) { s || (s = !0, y(l, g)) }) } catch (g) { if (s) return; s = !0, y(l, g) } } u.prototype.catch = function (e) { return this.then(null, e) }, u.prototype.then = function (e, l) { var s = new this.constructor(b); return p(this, new v(e, l, s)), s }, u.prototype.finally = o.a, u.all = function (e) { return new u(function (l, s) { if (!e || e.length === void 0) throw new TypeError("Promise.all accepts an array"); var g = Array.prototype.slice.call(e); if (g.length === 0) return l([]); var m = g.length; function h(S, C) { try { if (C && (typeof C == "object" || typeof C == "function")) { var j = C.then; if (typeof j == "function") return void j.call(C, function (I) { h(S, I) }, s) } g[S] = C, --m == 0 && l(g) } catch (I) { s(I) } } for (var k = 0; k < g.length; k++)h(k, g[k]) }) }, u.resolve = function (e) { return e && typeof e == "object" && e.constructor === u ? e : new u(function (l) { l(e) }) }, u.reject = function (e) { return new u(function (l, s) { s(e) }) }, u.race = function (e) { return new u(function (l, s) { for (var g = 0, m = e.length; g < m; g++)e[g].then(l, s) }) }, u._immediateFn = typeof n == "function" && function (e) { n(e) } || function (e) { d(e, 0) }, u._unhandledRejectionFn = function (e) { typeof console < "u" && console && console.warn("Possible Unhandled Promise Rejection:", e) }, c.a = u }).call(this, r(5).setImmediate) }, function (i, c, r) { c.a = function (n) { var o = this.constructor; return this.then(function (d) { return o.resolve(n()).then(function () { return d }) }, function (d) { return o.resolve(n()).then(function () { return o.reject(d) }) }) } }, function (i, c, r) { function n(t) { return (n = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(t) } r(4); var o, d, b, u, p, f, y, w = r(8), v = (d = function (t) { return new Promise(function (e, l) { t = u(t), (t = p(t)).beforeSend && t.beforeSend(); var s = window.XMLHttpRequest ? new window.XMLHttpRequest : new window.ActiveXObject("Microsoft.XMLHTTP"); s.open(t.method, t.url), s.setRequestHeader("X-Requested-With", "XMLHttpRequest"), Object.keys(t.headers).forEach(function (m) { var h = t.headers[m]; s.setRequestHeader(m, h) }); var g = t.ratio; s.upload.addEventListener("progress", function (m) { var h = Math.round(m.loaded / m.total * 100), k = Math.ceil(h * g / 100); t.progress(Math.min(k, 100)) }, !1), s.addEventListener("progress", function (m) { var h = Math.round(m.loaded / m.total * 100), k = Math.ceil(h * (100 - g) / 100) + g; t.progress(Math.min(k, 100)) }, !1), s.onreadystatechange = function () { if (s.readyState === 4) { var m = s.response; try { m = JSON.parse(m) } catch { } var h = w.parseHeaders(s.getAllResponseHeaders()), k = { body: m, code: s.status, headers: h }; y(s.status) ? e(k) : l(k) } }, s.send(t.data) }) }, b = function (t) { return t.method = "POST", d(t) }, u = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; if (t.url && typeof t.url != "string") throw new Error("Url must be a string"); if (t.url = t.url || "", t.method && typeof t.method != "string") throw new Error("`method` must be a string or null"); if (t.method = t.method ? t.method.toUpperCase() : "GET", t.headers && n(t.headers) !== "object") throw new Error("`headers` must be an object or null"); if (t.headers = t.headers || {}, t.type && (typeof t.type != "string" || !Object.values(o).includes(t.type))) throw new Error("`type` must be taken from module's «contentType» library"); if (t.progress && typeof t.progress != "function") throw new Error("`progress` must be a function or null"); if (t.progress = t.progress || function (e) { }, t.beforeSend = t.beforeSend || function (e) { }, t.ratio && typeof t.ratio != "number") throw new Error("`ratio` must be a number"); if (t.ratio < 0 || t.ratio > 100) throw new Error("`ratio` must be in a 0-100 interval"); if (t.ratio = t.ratio || 90, t.accept && typeof t.accept != "string") throw new Error("`accept` must be a string with a list of allowed mime-types"); if (t.accept = t.accept || "*/*", t.multiple && typeof t.multiple != "boolean") throw new Error("`multiple` must be a true or false"); if (t.multiple = t.multiple || !1, t.fieldName && typeof t.fieldName != "string") throw new Error("`fieldName` must be a string"); return t.fieldName = t.fieldName || "files", t }, p = function (t) { switch (t.method) { case "GET": var e = f(t.data, o.URLENCODED); delete t.data, t.url = /\?/.test(t.url) ? t.url + "&" + e : t.url + "?" + e; break; case "POST": case "PUT": case "DELETE": case "UPDATE": var l = function () { return (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}).type || o.JSON }(t); (w.isFormData(t.data) || w.isFormElement(t.data)) && (l = o.FORM), t.data = f(t.data, l), l !== v.contentType.FORM && (t.headers["content-type"] = l) }return t }, f = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; switch (arguments.length > 1 ? arguments[1] : void 0) { case o.URLENCODED: return w.urlEncode(t); case o.JSON: return w.jsonEncode(t); case o.FORM: return w.formEncode(t); default: return t } }, y = function (t) { return t >= 200 && t < 300 }, { contentType: o = { URLENCODED: "application/x-www-form-urlencoded; charset=utf-8", FORM: "multipart/form-data", JSON: "application/json; charset=utf-8" }, request: d, get: function (t) { return t.method = "GET", d(t) }, post: b, transport: function (t) { return t = u(t), w.selectFiles(t).then(function (e) { for (var l = new FormData, s = 0; s < e.length; s++)l.append(t.fieldName, e[s], e[s].name); w.isObject(t.data) && Object.keys(t.data).forEach(function (m) { var h = t.data[m]; l.append(m, h) }); var g = t.beforeSend; return t.beforeSend = function () { return g(e) }, t.data = l, b(t) }) }, selectFiles: function (t) { return delete (t = u(t)).beforeSend, w.selectFiles(t) } }); i.exports = v }, function (i, c, r) { r.r(c); var n = r(1); window.Promise = window.Promise || n.a }, function (i, c, r) { (function (n) { var o = n !== void 0 && n || typeof self < "u" && self || window, d = Function.prototype.apply; function b(u, p) { this._id = u, this._clearFn = p } c.setTimeout = function () { return new b(d.call(setTimeout, o, arguments), clearTimeout) }, c.setInterval = function () { return new b(d.call(setInterval, o, arguments), clearInterval) }, c.clearTimeout = c.clearInterval = function (u) { u && u.close() }, b.prototype.unref = b.prototype.ref = function () { }, b.prototype.close = function () { this._clearFn.call(o, this._id) }, c.enroll = function (u, p) { clearTimeout(u._idleTimeoutId), u._idleTimeout = p }, c.unenroll = function (u) { clearTimeout(u._idleTimeoutId), u._idleTimeout = -1 }, c._unrefActive = c.active = function (u) { clearTimeout(u._idleTimeoutId); var p = u._idleTimeout; p >= 0 && (u._idleTimeoutId = setTimeout(function () { u._onTimeout && u._onTimeout() }, p)) }, r(6), c.setImmediate = typeof self < "u" && self.setImmediate || n !== void 0 && n.setImmediate || this && this.setImmediate, c.clearImmediate = typeof self < "u" && self.clearImmediate || n !== void 0 && n.clearImmediate || this && this.clearImmediate }).call(this, r(0)) }, function (i, c, r) { (function (n, o) { (function (d, b) { if (!d.setImmediate) { var u, p, f, y, w, v = 1, t = {}, e = !1, l = d.document, s = Object.getPrototypeOf && Object.getPrototypeOf(d); s = s && s.setTimeout ? s : d, {}.toString.call(d.process) === "[object process]" ? u = function (h) { o.nextTick(function () { m(h) }) } : function () { if (d.postMessage && !d.importScripts) { var h = !0, k = d.onmessage; return d.onmessage = function () { h = !1 }, d.postMessage("", "*"), d.onmessage = k, h } }() ? (y = "setImmediate$" + Math.random() + "$", w = function (h) { h.source === d && typeof h.data == "string" && h.data.indexOf(y) === 0 && m(+h.data.slice(y.length)) }, d.addEventListener ? d.addEventListener("message", w, !1) : d.attachEvent("onmessage", w), u = function (h) { d.postMessage(y + h, "*") }) : d.MessageChannel ? ((f = new MessageChannel).port1.onmessage = function (h) { m(h.data) }, u = function (h) { f.port2.postMessage(h) }) : l && "onreadystatechange" in l.createElement("script") ? (p = l.documentElement, u = function (h) { var k = l.createElement("script"); k.onreadystatechange = function () { m(h), k.onreadystatechange = null, p.removeChild(k), k = null }, p.appendChild(k) }) : u = function (h) { setTimeout(m, 0, h) }, s.setImmediate = function (h) { typeof h != "function" && (h = new Function("" + h)); for (var k = new Array(arguments.length - 1), S = 0; S < k.length; S++)k[S] = arguments[S + 1]; var C = { callback: h, args: k }; return t[v] = C, u(v), v++ }, s.clearImmediate = g } function g(h) { delete t[h] } function m(h) { if (e) setTimeout(m, 0, h); else { var k = t[h]; if (k) { e = !0; try { (function (S) { var C = S.callback, j = S.args; switch (j.length) { case 0: C(); break; case 1: C(j[0]); break; case 2: C(j[0], j[1]); break; case 3: C(j[0], j[1], j[2]); break; default: C.apply(b, j) } })(k) } finally { g(h), e = !1 } } } } })(typeof self > "u" ? n === void 0 ? this : n : self) }).call(this, r(0), r(7)) }, function (i, c) { var r, n, o = i.exports = {}; function d() { throw new Error("setTimeout has not been defined") } function b() { throw new Error("clearTimeout has not been defined") } function u(s) { if (r === setTimeout) return setTimeout(s, 0); if ((r === d || !r) && setTimeout) return r = setTimeout, setTimeout(s, 0); try { return r(s, 0) } catch { try { return r.call(null, s, 0) } catch { return r.call(this, s, 0) } } } (function () { try { r = typeof setTimeout == "function" ? setTimeout : d } catch { r = d } try { n = typeof clearTimeout == "function" ? clearTimeout : b } catch { n = b } })(); var p, f = [], y = !1, w = -1; function v() { y && p && (y = !1, p.length ? f = p.concat(f) : w = -1, f.length && t()) } function t() { if (!y) { var s = u(v); y = !0; for (var g = f.length; g;){ for (p = f, f = []; ++w < g;)p && p[w].run(); w = -1, g = f.length } p = null, y = !1, function (m) { if (n === clearTimeout) return clearTimeout(m); if ((n === b || !n) && clearTimeout) return n = clearTimeout, clearTimeout(m); try { n(m) } catch { try { return n.call(null, m) } catch { return n.call(this, m) } } }(s) } } function e(s, g) { this.fun = s, this.array = g } function l() { } o.nextTick = function (s) { var g = new Array(arguments.length - 1); if (arguments.length > 1) for (var m = 1; m < arguments.length; m++)g[m - 1] = arguments[m]; f.push(new e(s, g)), f.length !== 1 || y || u(t) }, e.prototype.run = function () { this.fun.apply(null, this.array) }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = l, o.addListener = l, o.once = l, o.off = l, o.removeListener = l, o.removeAllListeners = l, o.emit = l, o.prependListener = l, o.prependOnceListener = l, o.listeners = function (s) { return [] }, o.binding = function (s) { throw new Error("process.binding is not supported") }, o.cwd = function () { return "/" }, o.chdir = function (s) { throw new Error("process.chdir is not supported") }, o.umask = function () { return 0 } }, function (i, c, r) { function n(d, b) { for (var u = 0; u < b.length; u++){ var p = b[u]; p.enumerable = p.enumerable || !1, p.configurable = !0, "value" in p && (p.writable = !0), Object.defineProperty(d, p.key, p) } } var o = r(9); i.exports = function () { function d() { (function (f, y) { if (!(f instanceof y)) throw new TypeError("Cannot call a class as a function") })(this, d) } var b, u, p; return b = d, p = [{ key: "urlEncode", value: function (f) { return o(f) } }, { key: "jsonEncode", value: function (f) { return JSON.stringify(f) } }, { key: "formEncode", value: function (f) { if (this.isFormData(f)) return f; if (this.isFormElement(f)) return new FormData(f); if (this.isObject(f)) { var y = new FormData; return Object.keys(f).forEach(function (w) { var v = f[w]; y.append(w, v) }), y } throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement") } }, { key: "isObject", value: function (f) { return Object.prototype.toString.call(f) === "[object Object]" } }, { key: "isFormData", value: function (f) { return f instanceof FormData } }, { key: "isFormElement", value: function (f) { return f instanceof HTMLFormElement } }, { key: "selectFiles", value: function () { var f = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; return new Promise(function (y, w) { var v = document.createElement("INPUT"); v.type = "file", f.multiple && v.setAttribute("multiple", "multiple"), f.accept && v.setAttribute("accept", f.accept), v.style.display = "none", document.body.appendChild(v), v.addEventListener("change", function (t) { var e = t.target.files; y(e), document.body.removeChild(v) }, !1), v.click() }) } }, { key: "parseHeaders", value: function (f) { var y = f.trim().split(/[\r\n]+/), w = {}; return y.forEach(function (v) { var t = v.split(": "), e = t.shift(), l = t.join(": "); e && (w[e] = l) }), w } }], (u = null) && n(b.prototype, u), p && n(b, p), d }() }, function (i, c) { var r = function (o) { return encodeURIComponent(o).replace(/[!'()*]/g, escape).replace(/%20/g, "+") }, n = function (o, d, b, u) { return d = d || null, b = b || "&", u = u || null, o ? function (p) { for (var f = new Array, y = 0; y < p.length; y++)p[y] && f.push(p[y]); return f }(Object.keys(o).map(function (p) { var f, y, w = p; if (u && (w = u + "[" + w + "]"), typeof o[p] == "object" && o[p] !== null) f = n(o[p], null, b, w); else { d && (y = w, w = !isNaN(parseFloat(y)) && isFinite(y) ? d + Number(w) : w); var v = o[p]; v = (v = (v = (v = v === !0 ? "1" : v) === !1 ? "0" : v) === 0 ? "0" : v) || "", f = r(w) + "=" + r(v) } return f })).join(b).replace(/[!'()*]/g, "") : "" }; i.exports = n }]) }) })(H); var B = H.exports; const F = U(B); function L(E) { return E && typeof E.then == "function" } class A{ constructor({ config: a, onUpload: i, onError: c }) { this.config = a, this.onUpload = i, this.onError = c } uploadSelectedFile({ onPreview: a }) { const i = function (r) { const n = new FileReader; n.readAsDataURL(r), n.onload = o => { a(o.target.result) } }; let c; this.config.uploader && typeof this.config.uploader.uploadByFile == "function" ? c = F.selectFiles({ accept: this.config.types }).then(r => { i(r[0]); const n = this.config.uploader.uploadByFile(r[0]); return L(n) || console.warn("Custom uploader method uploadByFile should return a Promise"), n }) : c = F.transport({ url: this.config.endpoints.byFile, data: this.config.additionalRequestData, accept: this.config.types, headers: this.config.additionalRequestHeaders, beforeSend: r => { i(r[0]) }, fieldName: this.config.field }).then(r => r.body), c.then(r => { this.onUpload(r) }).catch(r => { this.onError(r) }) } uploadByUrl(a) { let i; this.config.uploader && typeof this.config.uploader.uploadByUrl == "function" ? (i = this.config.uploader.uploadByUrl(a), L(i) || console.warn("Custom uploader method uploadByUrl should return a Promise")) : i = F.post({ url: this.config.endpoints.byUrl, data: Object.assign({ url: a }, this.config.additionalRequestData), type: F.contentType.JSON, headers: this.config.additionalRequestHeaders }).then(c => c.body), i.then(c => { this.onUpload(c) }).catch(c => { this.onError(c) }) } uploadByFile(a, { onPreview: i }) { const c = new FileReader; c.readAsDataURL(a), c.onload = n => { i(n.target.result) }; let r; if (this.config.uploader && typeof this.config.uploader.uploadByFile == "function") r = this.config.uploader.uploadByFile(a), L(r) || console.warn("Custom uploader method uploadByFile should return a Promise"); else { const n = new FormData; n.append(this.config.field, a), this.config.additionalRequestData && Object.keys(this.config.additionalRequestData).length && Object.entries(this.config.additionalRequestData).forEach(([o, d]) => { n.append(o, d) }), r = F.post({ url: this.config.endpoints.byFile, data: n, type: F.contentType.JSON, headers: this.config.additionalRequestHeaders }).then(o => o.body) } r.then(n => { this.onUpload(n) }).catch(n => { this.onError(n) }) } }
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */
    class P{ static get isReadOnlySupported() { return !0 } static get toolbox() { return { icon: R, title: "Image" } } static get tunes() { return [{ name: "withBorder", icon: D, title: "With border", toggle: !0 }, { name: "stretched", icon: x, title: "Stretch image", toggle: !0 }, { name: "withBackground", icon: O, title: "With background", toggle: !0 }] } constructor({ data: a, config: i, api: c, readOnly: r, block: n }) { this.api = c, this.readOnly = r, this.block = n, this.config = { endpoints: i.endpoints || "", additionalRequestData: i.additionalRequestData || {}, additionalRequestHeaders: i.additionalRequestHeaders || {}, field: i.field || "image", types: i.types || "image/*", captionPlaceholder: this.api.i18n.t(i.captionPlaceholder || "Caption"), buttonContent: i.buttonContent || "", uploader: i.uploader || void 0, actions: i.actions || [] }, this.uploader = new A({ config: this.config, onUpload: o => this.onUpload(o), onError: o => this.uploadingFailed(o) }), this.ui = new T({ api: c, config: this.config, onSelectFile: () => { this.uploader.uploadSelectedFile({ onPreview: o => { this.ui.showPreloader(o) } }) }, readOnly: r }), this._data = {}, this.data = a } render() { return this.ui.render(this.data) } validate(a) { return a.file && a.file.url } save() { const a = this.ui.nodes.caption; return this._data.caption = a.innerHTML, this.data } renderSettings() { return P.tunes.concat(this.config.actions).map(i => ({ icon: i.icon, label: this.api.i18n.t(i.title), name: i.name, toggle: i.toggle, isActive: this.data[i.name], onActivate: () => { if (typeof i.action == "function") { i.action(i.name); return } this.tuneToggled(i.name) } })) } appendCallback() { this.ui.nodes.fileButton.click() } static get pasteConfig() { return { tags: [{ img: { src: !0 } }], patterns: { image: /https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i }, files: { mimeTypes: ["image/*"] } } } async onPaste(a) { switch (a.type) { case "tag": { const i = a.detail.data; if (/^blob:/.test(i.src)) { const r = await (await fetch(i.src)).blob(); this.uploadFile(r); break } this.uploadUrl(i.src); break } case "pattern": { const i = a.detail.data; this.uploadUrl(i); break } case "file": { const i = a.detail.file; this.uploadFile(i); break } } } set data(a) { this.image = a.file, this._data.caption = a.caption || "", this.ui.fillCaption(this._data.caption), P.tunes.forEach(({ name: i }) => { const c = typeof a[i] < "u" ? a[i] === !0 || a[i] === "true" : !1; this.setTune(i, c) }) } get data() { return this._data } set image(a) { this._data.file = a || {}, a && a.url && this.ui.fillImage(a.url) } onUpload(a) { a.success && a.file ? this.image = a.file : this.uploadingFailed("incorrect response: " + JSON.stringify(a)) } uploadingFailed(a) { console.log("Image Tool: uploading failed because of", a), this.api.notifier.show({ message: this.api.i18n.t("Couldn’t upload image. Please try another."), style: "error" }), this.ui.hidePreloader() } tuneToggled(a) { this.setTune(a, !this._data[a]) } setTune(a, i) { this._data[a] = i, this.ui.applyTune(a, i), a === "stretched" && Promise.resolve().then(() => { this.block.stretched = i }).catch(c => { console.error(c) }) } uploadFile(a) { this.uploader.uploadByFile(a, { onPreview: i => { this.ui.showPreloader(i) } }) } uploadUrl(a) { this.ui.showPreloader(a), this.uploader.uploadByUrl(a) } } return P
});
 
/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/image@2.9.0/dist/image.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(o)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function (_, O) { typeof exports == "object" && typeof module < "u" ? module.exports = O() : typeof define == "function" && define.amd ? define(O) : (_ = typeof globalThis < "u" ? globalThis : _ || self, _.ImageTool = O()) })(this, function () { "use strict"; const _ = "", O = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>', D = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>', R = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>', x = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>'; function M(E, a = null, i = {}) { const c = document.createElement(E); Array.isArray(a) ? c.classList.add(...a) : a && c.classList.add(a); for (const r in i) c[r] = i[r]; return c } class T{ constructor({ api: a, config: i, onSelectFile: c, readOnly: r }) { this.api = a, this.config = i, this.onSelectFile = c, this.readOnly = r, this.nodes = { wrapper: M("div", [this.CSS.baseClass, this.CSS.wrapper]), imageContainer: M("div", [this.CSS.imageContainer]), fileButton: this.createFileButton(), imageEl: void 0, imagePreloader: M("div", this.CSS.imagePreloader), caption: M("div", [this.CSS.input, this.CSS.caption], { contentEditable: !this.readOnly }) }, this.nodes.caption.dataset.placeholder = this.config.captionPlaceholder, this.nodes.imageContainer.appendChild(this.nodes.imagePreloader), this.nodes.wrapper.appendChild(this.nodes.imageContainer), this.nodes.wrapper.appendChild(this.nodes.caption), this.nodes.wrapper.appendChild(this.nodes.fileButton) } get CSS() { return { baseClass: this.api.styles.block, loading: this.api.styles.loader, input: this.api.styles.input, button: this.api.styles.button, wrapper: "image-tool", imageContainer: "image-tool__image", imagePreloader: "image-tool__image-preloader", imageEl: "image-tool__image-picture", caption: "image-tool__caption" } } static get status() { return { EMPTY: "empty", UPLOADING: "loading", FILLED: "filled" } } render(a) { return !a.file || Object.keys(a.file).length === 0 ? this.toggleStatus(T.status.EMPTY) : this.toggleStatus(T.status.UPLOADING), this.nodes.wrapper } createFileButton() { const a = M("div", [this.CSS.button]); return a.innerHTML = this.config.buttonContent || `${R} ${this.api.i18n.t("Select an Image")}`, a.addEventListener("click", () => { this.onSelectFile() }), a } showPreloader(a) { this.nodes.imagePreloader.style.backgroundImage = `url(${a})`, this.toggleStatus(T.status.UPLOADING) } hidePreloader() { this.nodes.imagePreloader.style.backgroundImage = "", this.toggleStatus(T.status.EMPTY) } fillImage(a) { const i = /\.mp4$/.test(a) ? "VIDEO" : "IMG", c = { src: a }; let r = "load"; i === "VIDEO" && (c.autoplay = !0, c.loop = !0, c.muted = !0, c.playsinline = !0, r = "loadeddata"), this.nodes.imageEl = M(i, this.CSS.imageEl, c), this.nodes.imageEl.addEventListener(r, () => { this.toggleStatus(T.status.FILLED), this.nodes.imagePreloader && (this.nodes.imagePreloader.style.backgroundImage = "") }), this.nodes.imageContainer.appendChild(this.nodes.imageEl) } fillCaption(a) { this.nodes.caption && (this.nodes.caption.innerHTML = a) } toggleStatus(a) { for (const i in T.status) Object.prototype.hasOwnProperty.call(T.status, i) && this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${T.status[i]}`, a === T.status[i]) } applyTune(a, i) { this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${a}`, i) } } function U(E) { return E && E.__esModule && Object.prototype.hasOwnProperty.call(E, "default") ? E.default : E } var H = { exports: {} }; (function (E, a) { (function (i, c) { E.exports = c() })(window, function () { return function (i) { var c = {}; function r(n) { if (c[n]) return c[n].exports; var o = c[n] = { i: n, l: !1, exports: {} }; return i[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } return r.m = i, r.c = c, r.d = function (n, o, d) { r.o(n, o) || Object.defineProperty(n, o, { enumerable: !0, get: d }) }, r.r = function (n) { typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: !0 }) }, r.t = function (n, o) { if (1 & o && (n = r(n)), 8 & o || 4 & o && typeof n == "object" && n && n.__esModule) return n; var d = Object.create(null); if (r.r(d), Object.defineProperty(d, "default", { enumerable: !0, value: n }), 2 & o && typeof n != "string") for (var b in n) r.d(d, b, (function (u) { return n[u] }).bind(null, b)); return d }, r.n = function (n) { var o = n && n.__esModule ? function () { return n.default } : function () { return n }; return r.d(o, "a", o), o }, r.o = function (n, o) { return Object.prototype.hasOwnProperty.call(n, o) }, r.p = "", r(r.s = 3) }([function (i, c) { var r; r = function () { return this }(); try { r = r || new Function("return this")() } catch { typeof window == "object" && (r = window) } i.exports = r }, function (i, c, r) { (function (n) { var o = r(2), d = setTimeout; function b() { } function u(e) { if (!(this instanceof u)) throw new TypeError("Promises must be constructed via new"); if (typeof e != "function") throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], t(e, this) } function p(e, l) { for (; e._state === 3;)e = e._value; e._state !== 0 ? (e._handled = !0, u._immediateFn(function () { var s = e._state === 1 ? l.onFulfilled : l.onRejected; if (s !== null) { var g; try { g = s(e._value) } catch (m) { return void y(l.promise, m) } f(l.promise, g) } else (e._state === 1 ? f : y)(l.promise, e._value) })) : e._deferreds.push(l) } function f(e, l) { try { if (l === e) throw new TypeError("A promise cannot be resolved with itself."); if (l && (typeof l == "object" || typeof l == "function")) { var s = l.then; if (l instanceof u) return e._state = 3, e._value = l, void w(e); if (typeof s == "function") return void t((g = s, m = l, function () { g.apply(m, arguments) }), e) } e._state = 1, e._value = l, w(e) } catch (h) { y(e, h) } var g, m } function y(e, l) { e._state = 2, e._value = l, w(e) } function w(e) { e._state === 2 && e._deferreds.length === 0 && u._immediateFn(function () { e._handled || u._unhandledRejectionFn(e._value) }); for (var l = 0, s = e._deferreds.length; l < s; l++)p(e, e._deferreds[l]); e._deferreds = null } function v(e, l, s) { this.onFulfilled = typeof e == "function" ? e : null, this.onRejected = typeof l == "function" ? l : null, this.promise = s } function t(e, l) { var s = !1; try { e(function (g) { s || (s = !0, f(l, g)) }, function (g) { s || (s = !0, y(l, g)) }) } catch (g) { if (s) return; s = !0, y(l, g) } } u.prototype.catch = function (e) { return this.then(null, e) }, u.prototype.then = function (e, l) { var s = new this.constructor(b); return p(this, new v(e, l, s)), s }, u.prototype.finally = o.a, u.all = function (e) { return new u(function (l, s) { if (!e || e.length === void 0) throw new TypeError("Promise.all accepts an array"); var g = Array.prototype.slice.call(e); if (g.length === 0) return l([]); var m = g.length; function h(S, C) { try { if (C && (typeof C == "object" || typeof C == "function")) { var j = C.then; if (typeof j == "function") return void j.call(C, function (I) { h(S, I) }, s) } g[S] = C, --m == 0 && l(g) } catch (I) { s(I) } } for (var k = 0; k < g.length; k++)h(k, g[k]) }) }, u.resolve = function (e) { return e && typeof e == "object" && e.constructor === u ? e : new u(function (l) { l(e) }) }, u.reject = function (e) { return new u(function (l, s) { s(e) }) }, u.race = function (e) { return new u(function (l, s) { for (var g = 0, m = e.length; g < m; g++)e[g].then(l, s) }) }, u._immediateFn = typeof n == "function" && function (e) { n(e) } || function (e) { d(e, 0) }, u._unhandledRejectionFn = function (e) { typeof console < "u" && console && console.warn("Possible Unhandled Promise Rejection:", e) }, c.a = u }).call(this, r(5).setImmediate) }, function (i, c, r) { c.a = function (n) { var o = this.constructor; return this.then(function (d) { return o.resolve(n()).then(function () { return d }) }, function (d) { return o.resolve(n()).then(function () { return o.reject(d) }) }) } }, function (i, c, r) { function n(t) { return (n = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(t) } r(4); var o, d, b, u, p, f, y, w = r(8), v = (d = function (t) { return new Promise(function (e, l) { t = u(t), (t = p(t)).beforeSend && t.beforeSend(); var s = window.XMLHttpRequest ? new window.XMLHttpRequest : new window.ActiveXObject("Microsoft.XMLHTTP"); s.open(t.method, t.url), s.setRequestHeader("X-Requested-With", "XMLHttpRequest"), Object.keys(t.headers).forEach(function (m) { var h = t.headers[m]; s.setRequestHeader(m, h) }); var g = t.ratio; s.upload.addEventListener("progress", function (m) { var h = Math.round(m.loaded / m.total * 100), k = Math.ceil(h * g / 100); t.progress(Math.min(k, 100)) }, !1), s.addEventListener("progress", function (m) { var h = Math.round(m.loaded / m.total * 100), k = Math.ceil(h * (100 - g) / 100) + g; t.progress(Math.min(k, 100)) }, !1), s.onreadystatechange = function () { if (s.readyState === 4) { var m = s.response; try { m = JSON.parse(m) } catch { } var h = w.parseHeaders(s.getAllResponseHeaders()), k = { body: m, code: s.status, headers: h }; y(s.status) ? e(k) : l(k) } }, s.send(t.data) }) }, b = function (t) { return t.method = "POST", d(t) }, u = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; if (t.url && typeof t.url != "string") throw new Error("Url must be a string"); if (t.url = t.url || "", t.method && typeof t.method != "string") throw new Error("`method` must be a string or null"); if (t.method = t.method ? t.method.toUpperCase() : "GET", t.headers && n(t.headers) !== "object") throw new Error("`headers` must be an object or null"); if (t.headers = t.headers || {}, t.type && (typeof t.type != "string" || !Object.values(o).includes(t.type))) throw new Error("`type` must be taken from module's «contentType» library"); if (t.progress && typeof t.progress != "function") throw new Error("`progress` must be a function or null"); if (t.progress = t.progress || function (e) { }, t.beforeSend = t.beforeSend || function (e) { }, t.ratio && typeof t.ratio != "number") throw new Error("`ratio` must be a number"); if (t.ratio < 0 || t.ratio > 100) throw new Error("`ratio` must be in a 0-100 interval"); if (t.ratio = t.ratio || 90, t.accept && typeof t.accept != "string") throw new Error("`accept` must be a string with a list of allowed mime-types"); if (t.accept = t.accept || "*/*", t.multiple && typeof t.multiple != "boolean") throw new Error("`multiple` must be a true or false"); if (t.multiple = t.multiple || !1, t.fieldName && typeof t.fieldName != "string") throw new Error("`fieldName` must be a string"); return t.fieldName = t.fieldName || "files", t }, p = function (t) { switch (t.method) { case "GET": var e = f(t.data, o.URLENCODED); delete t.data, t.url = /\?/.test(t.url) ? t.url + "&" + e : t.url + "?" + e; break; case "POST": case "PUT": case "DELETE": case "UPDATE": var l = function () { return (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}).type || o.JSON }(t); (w.isFormData(t.data) || w.isFormElement(t.data)) && (l = o.FORM), t.data = f(t.data, l), l !== v.contentType.FORM && (t.headers["content-type"] = l) }return t }, f = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; switch (arguments.length > 1 ? arguments[1] : void 0) { case o.URLENCODED: return w.urlEncode(t); case o.JSON: return w.jsonEncode(t); case o.FORM: return w.formEncode(t); default: return t } }, y = function (t) { return t >= 200 && t < 300 }, { contentType: o = { URLENCODED: "application/x-www-form-urlencoded; charset=utf-8", FORM: "multipart/form-data", JSON: "application/json; charset=utf-8" }, request: d, get: function (t) { return t.method = "GET", d(t) }, post: b, transport: function (t) { return t = u(t), w.selectFiles(t).then(function (e) { for (var l = new FormData, s = 0; s < e.length; s++)l.append(t.fieldName, e[s], e[s].name); w.isObject(t.data) && Object.keys(t.data).forEach(function (m) { var h = t.data[m]; l.append(m, h) }); var g = t.beforeSend; return t.beforeSend = function () { return g(e) }, t.data = l, b(t) }) }, selectFiles: function (t) { return delete (t = u(t)).beforeSend, w.selectFiles(t) } }); i.exports = v }, function (i, c, r) { r.r(c); var n = r(1); window.Promise = window.Promise || n.a }, function (i, c, r) { (function (n) { var o = n !== void 0 && n || typeof self < "u" && self || window, d = Function.prototype.apply; function b(u, p) { this._id = u, this._clearFn = p } c.setTimeout = function () { return new b(d.call(setTimeout, o, arguments), clearTimeout) }, c.setInterval = function () { return new b(d.call(setInterval, o, arguments), clearInterval) }, c.clearTimeout = c.clearInterval = function (u) { u && u.close() }, b.prototype.unref = b.prototype.ref = function () { }, b.prototype.close = function () { this._clearFn.call(o, this._id) }, c.enroll = function (u, p) { clearTimeout(u._idleTimeoutId), u._idleTimeout = p }, c.unenroll = function (u) { clearTimeout(u._idleTimeoutId), u._idleTimeout = -1 }, c._unrefActive = c.active = function (u) { clearTimeout(u._idleTimeoutId); var p = u._idleTimeout; p >= 0 && (u._idleTimeoutId = setTimeout(function () { u._onTimeout && u._onTimeout() }, p)) }, r(6), c.setImmediate = typeof self < "u" && self.setImmediate || n !== void 0 && n.setImmediate || this && this.setImmediate, c.clearImmediate = typeof self < "u" && self.clearImmediate || n !== void 0 && n.clearImmediate || this && this.clearImmediate }).call(this, r(0)) }, function (i, c, r) { (function (n, o) { (function (d, b) { if (!d.setImmediate) { var u, p, f, y, w, v = 1, t = {}, e = !1, l = d.document, s = Object.getPrototypeOf && Object.getPrototypeOf(d); s = s && s.setTimeout ? s : d, {}.toString.call(d.process) === "[object process]" ? u = function (h) { o.nextTick(function () { m(h) }) } : function () { if (d.postMessage && !d.importScripts) { var h = !0, k = d.onmessage; return d.onmessage = function () { h = !1 }, d.postMessage("", "*"), d.onmessage = k, h } }() ? (y = "setImmediate$" + Math.random() + "$", w = function (h) { h.source === d && typeof h.data == "string" && h.data.indexOf(y) === 0 && m(+h.data.slice(y.length)) }, d.addEventListener ? d.addEventListener("message", w, !1) : d.attachEvent("onmessage", w), u = function (h) { d.postMessage(y + h, "*") }) : d.MessageChannel ? ((f = new MessageChannel).port1.onmessage = function (h) { m(h.data) }, u = function (h) { f.port2.postMessage(h) }) : l && "onreadystatechange" in l.createElement("script") ? (p = l.documentElement, u = function (h) { var k = l.createElement("script"); k.onreadystatechange = function () { m(h), k.onreadystatechange = null, p.removeChild(k), k = null }, p.appendChild(k) }) : u = function (h) { setTimeout(m, 0, h) }, s.setImmediate = function (h) { typeof h != "function" && (h = new Function("" + h)); for (var k = new Array(arguments.length - 1), S = 0; S < k.length; S++)k[S] = arguments[S + 1]; var C = { callback: h, args: k }; return t[v] = C, u(v), v++ }, s.clearImmediate = g } function g(h) { delete t[h] } function m(h) { if (e) setTimeout(m, 0, h); else { var k = t[h]; if (k) { e = !0; try { (function (S) { var C = S.callback, j = S.args; switch (j.length) { case 0: C(); break; case 1: C(j[0]); break; case 2: C(j[0], j[1]); break; case 3: C(j[0], j[1], j[2]); break; default: C.apply(b, j) } })(k) } finally { g(h), e = !1 } } } } })(typeof self > "u" ? n === void 0 ? this : n : self) }).call(this, r(0), r(7)) }, function (i, c) { var r, n, o = i.exports = {}; function d() { throw new Error("setTimeout has not been defined") } function b() { throw new Error("clearTimeout has not been defined") } function u(s) { if (r === setTimeout) return setTimeout(s, 0); if ((r === d || !r) && setTimeout) return r = setTimeout, setTimeout(s, 0); try { return r(s, 0) } catch { try { return r.call(null, s, 0) } catch { return r.call(this, s, 0) } } } (function () { try { r = typeof setTimeout == "function" ? setTimeout : d } catch { r = d } try { n = typeof clearTimeout == "function" ? clearTimeout : b } catch { n = b } })(); var p, f = [], y = !1, w = -1; function v() { y && p && (y = !1, p.length ? f = p.concat(f) : w = -1, f.length && t()) } function t() { if (!y) { var s = u(v); y = !0; for (var g = f.length; g;){ for (p = f, f = []; ++w < g;)p && p[w].run(); w = -1, g = f.length } p = null, y = !1, function (m) { if (n === clearTimeout) return clearTimeout(m); if ((n === b || !n) && clearTimeout) return n = clearTimeout, clearTimeout(m); try { n(m) } catch { try { return n.call(null, m) } catch { return n.call(this, m) } } }(s) } } function e(s, g) { this.fun = s, this.array = g } function l() { } o.nextTick = function (s) { var g = new Array(arguments.length - 1); if (arguments.length > 1) for (var m = 1; m < arguments.length; m++)g[m - 1] = arguments[m]; f.push(new e(s, g)), f.length !== 1 || y || u(t) }, e.prototype.run = function () { this.fun.apply(null, this.array) }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = l, o.addListener = l, o.once = l, o.off = l, o.removeListener = l, o.removeAllListeners = l, o.emit = l, o.prependListener = l, o.prependOnceListener = l, o.listeners = function (s) { return [] }, o.binding = function (s) { throw new Error("process.binding is not supported") }, o.cwd = function () { return "/" }, o.chdir = function (s) { throw new Error("process.chdir is not supported") }, o.umask = function () { return 0 } }, function (i, c, r) { function n(d, b) { for (var u = 0; u < b.length; u++){ var p = b[u]; p.enumerable = p.enumerable || !1, p.configurable = !0, "value" in p && (p.writable = !0), Object.defineProperty(d, p.key, p) } } var o = r(9); i.exports = function () { function d() { (function (f, y) { if (!(f instanceof y)) throw new TypeError("Cannot call a class as a function") })(this, d) } var b, u, p; return b = d, p = [{ key: "urlEncode", value: function (f) { return o(f) } }, { key: "jsonEncode", value: function (f) { return JSON.stringify(f) } }, { key: "formEncode", value: function (f) { if (this.isFormData(f)) return f; if (this.isFormElement(f)) return new FormData(f); if (this.isObject(f)) { var y = new FormData; return Object.keys(f).forEach(function (w) { var v = f[w]; y.append(w, v) }), y } throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement") } }, { key: "isObject", value: function (f) { return Object.prototype.toString.call(f) === "[object Object]" } }, { key: "isFormData", value: function (f) { return f instanceof FormData } }, { key: "isFormElement", value: function (f) { return f instanceof HTMLFormElement } }, { key: "selectFiles", value: function () { var f = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; return new Promise(function (y, w) { var v = document.createElement("INPUT"); v.type = "file", f.multiple && v.setAttribute("multiple", "multiple"), f.accept && v.setAttribute("accept", f.accept), v.style.display = "none", document.body.appendChild(v), v.addEventListener("change", function (t) { var e = t.target.files; y(e), document.body.removeChild(v) }, !1), v.click() }) } }, { key: "parseHeaders", value: function (f) { var y = f.trim().split(/[\r\n]+/), w = {}; return y.forEach(function (v) { var t = v.split(": "), e = t.shift(), l = t.join(": "); e && (w[e] = l) }), w } }], (u = null) && n(b.prototype, u), p && n(b, p), d }() }, function (i, c) { var r = function (o) { return encodeURIComponent(o).replace(/[!'()*]/g, escape).replace(/%20/g, "+") }, n = function (o, d, b, u) { return d = d || null, b = b || "&", u = u || null, o ? function (p) { for (var f = new Array, y = 0; y < p.length; y++)p[y] && f.push(p[y]); return f }(Object.keys(o).map(function (p) { var f, y, w = p; if (u && (w = u + "[" + w + "]"), typeof o[p] == "object" && o[p] !== null) f = n(o[p], null, b, w); else { d && (y = w, w = !isNaN(parseFloat(y)) && isFinite(y) ? d + Number(w) : w); var v = o[p]; v = (v = (v = (v = v === !0 ? "1" : v) === !1 ? "0" : v) === 0 ? "0" : v) || "", f = r(w) + "=" + r(v) } return f })).join(b).replace(/[!'()*]/g, "") : "" }; i.exports = n }]) }) })(H); var B = H.exports; const F = U(B); function L(E) { return E && typeof E.then == "function" } class A{ constructor({ config: a, onUpload: i, onError: c }) { this.config = a, this.onUpload = i, this.onError = c } uploadSelectedFile({ onPreview: a }) { const i = function (r) { const n = new FileReader; n.readAsDataURL(r), n.onload = o => { a(o.target.result) } }; let c; this.config.uploader && typeof this.config.uploader.uploadByFile == "function" ? c = F.selectFiles({ accept: this.config.types }).then(r => { i(r[0]); const n = this.config.uploader.uploadByFile(r[0]); return L(n) || console.warn("Custom uploader method uploadByFile should return a Promise"), n }) : c = F.transport({ url: this.config.endpoints.byFile, data: this.config.additionalRequestData, accept: this.config.types, headers: this.config.additionalRequestHeaders, beforeSend: r => { i(r[0]) }, fieldName: this.config.field }).then(r => r.body), c.then(r => { this.onUpload(r) }).catch(r => { this.onError(r) }) } uploadByUrl(a) { let i; this.config.uploader && typeof this.config.uploader.uploadByUrl == "function" ? (i = this.config.uploader.uploadByUrl(a), L(i) || console.warn("Custom uploader method uploadByUrl should return a Promise")) : i = F.post({ url: this.config.endpoints.byUrl, data: Object.assign({ url: a }, this.config.additionalRequestData), type: F.contentType.JSON, headers: this.config.additionalRequestHeaders }).then(c => c.body), i.then(c => { this.onUpload(c) }).catch(c => { this.onError(c) }) } uploadByFile(a, { onPreview: i }) { const c = new FileReader; c.readAsDataURL(a), c.onload = n => { i(n.target.result) }; let r; if (this.config.uploader && typeof this.config.uploader.uploadByFile == "function") r = this.config.uploader.uploadByFile(a), L(r) || console.warn("Custom uploader method uploadByFile should return a Promise"); else { const n = new FormData; n.append(this.config.field, a), this.config.additionalRequestData && Object.keys(this.config.additionalRequestData).length && Object.entries(this.config.additionalRequestData).forEach(([o, d]) => { n.append(o, d) }), r = F.post({ url: this.config.endpoints.byFile, data: n, type: F.contentType.JSON, headers: this.config.additionalRequestHeaders }).then(o => o.body) } r.then(n => { this.onUpload(n) }).catch(n => { this.onError(n) }) } }
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */
    class P{ static get isReadOnlySupported() { return !0 } static get toolbox() { return { icon: R, title: "Image" } } static get tunes() { return [{ name: "withBorder", icon: D, title: "With border", toggle: !0 }, { name: "stretched", icon: x, title: "Stretch image", toggle: !0 }, { name: "withBackground", icon: O, title: "With background", toggle: !0 }] } constructor({ data: a, config: i, api: c, readOnly: r, block: n }) { this.api = c, this.readOnly = r, this.block = n, this.config = { endpoints: i.endpoints || "", additionalRequestData: i.additionalRequestData || {}, additionalRequestHeaders: i.additionalRequestHeaders || {}, field: i.field || "image", types: i.types || "image/*", captionPlaceholder: this.api.i18n.t(i.captionPlaceholder || "Caption"), buttonContent: i.buttonContent || "", uploader: i.uploader || void 0, actions: i.actions || [] }, this.uploader = new A({ config: this.config, onUpload: o => this.onUpload(o), onError: o => this.uploadingFailed(o) }), this.ui = new T({ api: c, config: this.config, onSelectFile: () => { this.uploader.uploadSelectedFile({ onPreview: o => { this.ui.showPreloader(o) } }) }, readOnly: r }), this._data = {}, this.data = a } render() { return this.ui.render(this.data) } validate(a) { return a.file && a.file.url } save() { const a = this.ui.nodes.caption; return this._data.caption = a.innerHTML, this.data } renderSettings() { return P.tunes.concat(this.config.actions).map(i => ({ icon: i.icon, label: this.api.i18n.t(i.title), name: i.name, toggle: i.toggle, isActive: this.data[i.name], onActivate: () => { if (typeof i.action == "function") { i.action(i.name); return } this.tuneToggled(i.name) } })) } appendCallback() { this.ui.nodes.fileButton.click() } static get pasteConfig() { return { tags: [{ img: { src: !0 } }], patterns: { image: /https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i }, files: { mimeTypes: ["image/*"] } } } async onPaste(a) { switch (a.type) { case "tag": { const i = a.detail.data; if (/^blob:/.test(i.src)) { const r = await (await fetch(i.src)).blob(); this.uploadFile(r); break } this.uploadUrl(i.src); break } case "pattern": { const i = a.detail.data; this.uploadUrl(i); break } case "file": { const i = a.detail.file; this.uploadFile(i); break } } } set data(a) { this.image = a.file, this._data.caption = a.caption || "", this.ui.fillCaption(this._data.caption), P.tunes.forEach(({ name: i }) => { const c = typeof a[i] < "u" ? a[i] === !0 || a[i] === "true" : !1; this.setTune(i, c) }) } get data() { return this._data } set image(a) { this._data.file = a || {}, a && a.url && this.ui.fillImage(a.url) } onUpload(a) { a.success && a.file ? this.image = a.file : this.uploadingFailed("incorrect response: " + JSON.stringify(a)) } uploadingFailed(a) { console.log("Image Tool: uploading failed because of", a), this.api.notifier.show({ message: this.api.i18n.t("Couldn’t upload image. Please try another."), style: "error" }), this.ui.hidePreloader() } tuneToggled(a) { this.setTune(a, !this._data[a]) } setTune(a, i) { this._data[a] = i, this.ui.applyTune(a, i), a === "stretched" && Promise.resolve().then(() => { this.block.stretched = i }).catch(c => { console.error(c) }) } uploadFile(a) { this.uploader.uploadByFile(a, { onPreview: i => { this.ui.showPreloader(i) } }) } uploadUrl(a) { this.ui.showPreloader(a), this.uploader.uploadByUrl(a) } } return P
});
 


(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(e)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();


/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/checklist@1.6.0/dist/checklist.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */



(function (l, c) { typeof exports == "object" && typeof module < "u" ? module.exports = c() : typeof define == "function" && define.amd ? define(c) : (l = typeof globalThis < "u" ? globalThis : l || self, l.Checklist = c()) })(this, function () { "use strict"; const l = "", c = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>', g = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>'; function d() { const s = document.activeElement, t = window.getSelection().getRangeAt(0), n = t.cloneRange(); return n.selectNodeContents(s), n.setStart(t.endContainer, t.endOffset), n.extractContents() } function f(s) { const e = document.createElement("div"); return e.appendChild(s), e.innerHTML } function o(s, e = null, t = {}) { const n = document.createElement(s); Array.isArray(e) ? n.classList.add(...e) : e && n.classList.add(e); for (const i in t) n[i] = t[i]; return n } function m(s) { return s.innerHTML.replace("<br>", " ").trim() } function p(s, e = !1, t = void 0) { const n = document.createRange(), i = window.getSelection(); n.selectNodeContents(s), t !== void 0 && (n.setStart(s, t), n.setEnd(s, t)), n.collapse(e), i.removeAllRanges(), i.addRange(n) } Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function (s) { let e = this; if (!document.documentElement.contains(e)) return null; do { if (e.matches(s)) return e; e = e.parentElement || e.parentNode } while (e !== null && e.nodeType === 1); return null }); class C{ static get isReadOnlySupported() { return !0 } static get enableLineBreaks() { return !0 } static get toolbox() { return { icon: g, title: "Checklist" } } static get conversionConfig() { return { export: e => e.items.map(({ text: t }) => t).join(". "), import: e => ({ items: [{ text: e, checked: !1 }] }) } } constructor({ data: e, config: t, api: n, readOnly: i }) { this._elements = { wrapper: null, items: [] }, this.readOnly = i, this.api = n, this.data = e || {} } render() { return this._elements.wrapper = o("div", [this.CSS.baseBlock, this.CSS.wrapper]), this.data.items || (this.data.items = [{ text: "", checked: !1 }]), this.data.items.forEach(e => { const t = this.createChecklistItem(e); this._elements.wrapper.appendChild(t) }), this.readOnly ? this._elements.wrapper : (this._elements.wrapper.addEventListener("keydown", e => { const [t, n] = [13, 8]; switch (e.keyCode) { case t: this.enterPressed(e); break; case n: this.backspace(e); break } }, !1), this._elements.wrapper.addEventListener("click", e => { this.toggleCheckbox(e) }), this._elements.wrapper) } save() { let e = this.items.map(t => { const n = this.getItemInput(t); return { text: m(n), checked: t.classList.contains(this.CSS.itemChecked) } }); return e = e.filter(t => t.text.trim().length !== 0), { items: e } } validate(e) { return !!e.items.length } toggleCheckbox(e) { const t = e.target.closest(`.${this.CSS.item}`), n = t.querySelector(`.${this.CSS.checkboxContainer}`); n.contains(e.target) && (t.classList.toggle(this.CSS.itemChecked), n.classList.add(this.CSS.noHover), n.addEventListener("mouseleave", () => this.removeSpecialHoverBehavior(n), { once: !0 })) } createChecklistItem(e = {}) { const t = o("div", this.CSS.item), n = o("span", this.CSS.checkbox), i = o("div", this.CSS.checkboxContainer), a = o("div", this.CSS.textField, { innerHTML: e.text ? e.text : "", contentEditable: !this.readOnly }); return e.checked && t.classList.add(this.CSS.itemChecked), n.innerHTML = c, i.appendChild(n), t.appendChild(i), t.appendChild(a), t } enterPressed(e) { e.preventDefault(); const t = this.items, n = document.activeElement.closest(`.${this.CSS.item}`); if (t.indexOf(n) === t.length - 1 && m(this.getItemInput(n)).length === 0) { const x = this.api.blocks.getCurrentBlockIndex(); n.remove(), this.api.blocks.insert(), this.api.caret.setToBlock(x + 1); return } const u = d(), h = f(u), r = this.createChecklistItem({ text: h, checked: !1 }); this._elements.wrapper.insertBefore(r, n.nextSibling), p(this.getItemInput(r), !0) } backspace(e) { const t = e.target.closest(`.${this.CSS.item}`), n = this.items.indexOf(t), i = this.items[n - 1]; if (!i || !(window.getSelection().focusOffset === 0)) return; e.preventDefault(); const h = d(), r = this.getItemInput(i), k = r.childNodes.length; r.appendChild(h), p(r, void 0, k), t.remove() } get CSS() { return { baseBlock: this.api.styles.block, wrapper: "cdx-checklist", item: "cdx-checklist__item", itemChecked: "cdx-checklist__item--checked", noHover: "cdx-checklist__item-checkbox--no-hover", checkbox: "cdx-checklist__item-checkbox-check", textField: "cdx-checklist__item-text", checkboxContainer: "cdx-checklist__item-checkbox" } } get items() { return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`)) } removeSpecialHoverBehavior(e) { e.classList.remove(this.CSS.noHover) } getItemInput(e) { return e.querySelector(`.${this.CSS.textField}`) } } return C });


/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/list@1.9.0/dist/list.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */

(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(o,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(o=typeof globalThis<"u"?globalThis:o||self,o.List=n())})(this,function(){"use strict";const o="",n='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';class d{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:n,title:"List"}}constructor({data:e,config:t,api:r,readOnly:s}){this._elements={wrapper:null},this.api=r,this.readOnly=s,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:n,default:t.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:l,default:t.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[t,r]=[13,8];switch(e.keyCode){case t:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const t=e.detail.data;this.data=this.pasteHandler(t)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const t=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,t],{contentEditable:!this.readOnly})}toggleTune(e){const t=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)t.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(t),this._elements.wrapper=t,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const t=this._elements.wrapper;t&&t.parentNode.replaceChild(this.render(),t)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let t=0;t<e.length;t++)e[t].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[t].innerHTML);return this._data}_make(e,t=null,r={}){const s=document.createElement(e);Array.isArray(t)?s.classList.add(...t):t&&s.classList.add(t);for(const i in r)s[i]=r[i];return s}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(t.length<2)return;const r=t[t.length-1],s=this.currentItem;s===r&&!r.textContent.trim().length&&(s.parentElement.removeChild(s),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=t[0];r&&t.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const t=window.getSelection(),r=t.anchorNode.parentNode,s=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(s),t.removeAllRanges(),t.addRange(i)}pasteHandler(e){const{tagName:t}=e;let r;switch(t){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const s={style:r,items:[]};if(t==="LI")s.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));s.items=i.map(a=>a.innerHTML).filter(a=>!!a.trim())}return s}}return d});


/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/quote@2.6.0/dist/quote.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function (s, o) { typeof exports == "object" && typeof module < "u" ? module.exports = o() : typeof define == "function" && define.amd ? define(o) : (s = typeof globalThis < "u" ? globalThis : s || self, s.Quote = o()) })(this, function () { "use strict"; const s = "", o = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>', c = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>', l = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>'; class i{ static get isReadOnlySupported() { return !0 } static get toolbox() { return { icon: l, title: "Quote" } } static get contentless() { return !0 } static get enableLineBreaks() { return !0 } static get DEFAULT_QUOTE_PLACEHOLDER() { return "Enter a quote" } static get DEFAULT_CAPTION_PLACEHOLDER() { return "Enter a caption" } static get ALIGNMENTS() { return { left: "left", center: "center" } } static get DEFAULT_ALIGNMENT() { return i.ALIGNMENTS.left } static get conversionConfig() { return { import: "text", export: function (t) { return t.caption ? `${t.text} — ${t.caption}` : t.text } } } get CSS() { return { baseClass: this.api.styles.block, wrapper: "cdx-quote", text: "cdx-quote__text", input: this.api.styles.input, caption: "cdx-quote__caption" } } get settings() { return [{ name: "left", icon: c }, { name: "center", icon: o }] } constructor({ data: t, config: e, api: n, readOnly: r }) { const { ALIGNMENTS: a, DEFAULT_ALIGNMENT: d } = i; this.api = n, this.readOnly = r, this.quotePlaceholder = e.quotePlaceholder || i.DEFAULT_QUOTE_PLACEHOLDER, this.captionPlaceholder = e.captionPlaceholder || i.DEFAULT_CAPTION_PLACEHOLDER, this.data = { text: t.text || "", caption: t.caption || "", alignment: Object.values(a).includes(t.alignment) && t.alignment || e.defaultAlignment || d } } render() { const t = this._make("blockquote", [this.CSS.baseClass, this.CSS.wrapper]), e = this._make("div", [this.CSS.input, this.CSS.text], { contentEditable: !this.readOnly, innerHTML: this.data.text }), n = this._make("div", [this.CSS.input, this.CSS.caption], { contentEditable: !this.readOnly, innerHTML: this.data.caption }); return e.dataset.placeholder = this.quotePlaceholder, n.dataset.placeholder = this.captionPlaceholder, t.appendChild(e), t.appendChild(n), t } save(t) { const e = t.querySelector(`.${this.CSS.text}`), n = t.querySelector(`.${this.CSS.caption}`); return Object.assign(this.data, { text: e.innerHTML, caption: n.innerHTML }) } static get sanitize() { return { text: { br: !0 }, caption: { br: !0 }, alignment: {} } } renderSettings() { const t = e => e[0].toUpperCase() + e.substr(1); return this.settings.map(e => ({ icon: e.icon, label: this.api.i18n.t(`Align ${t(e.name)}`), onActivate: () => this._toggleTune(e.name), isActive: this.data.alignment === e.name, closeOnActivate: !0 })) } _toggleTune(t) { this.data.alignment = t } _make(t, e = null, n = {}) { const r = document.createElement(t); Array.isArray(e) ? r.classList.add(...e) : e && r.classList.add(e); for (const a in n) r[a] = n[a]; return r } } return i });


/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@editorjs/attaches@1.3.0/dist/bundle.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */


!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AttachesTool=t():e.AttachesTool=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=6)}([function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var r=n(2),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}c(t.promise,r)}else(1===e._state?c:l)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void d((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}var r,o}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(e){if(n)return;n=!0,l(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new f(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(e,t)}),n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(5).setImmediate)},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4);var o,i,a,s,c,l,u,f=n(8),d=(i=function(e){return new Promise((function(t,n){e=s(e),(e=c(e)).beforeSend&&e.beforeSend();var r=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");r.open(e.method,e.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach((function(t){var n=e.headers[t];r.setRequestHeader(t,n)}));var o=e.ratio;r.upload.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*o/100);e.progress(Math.min(r,100))}),!1),r.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*(100-o)/100)+o;e.progress(Math.min(r,100))}),!1),r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;try{e=JSON.parse(e)}catch(e){}var o=f.parseHeaders(r.getAllResponseHeaders()),i={body:e,code:r.status,headers:o};u(r.status)?t(i):n(i)}},r.send(e.data)}))},a=function(e){return e.method="POST",i(e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==r(e.headers))throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(o).includes(e.type)))throw new Error("`type` must be taken from module's «contentType» library");if(e.progress&&"function"!=typeof e.progress)throw new Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},c=function(e){switch(e.method){case"GET":var t=l(e.data,o.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||o.JSON}(e);(f.isFormData(e.data)||f.isFormElement(e.data))&&(n=o.FORM),e.data=l(e.data,n),n!==d.contentType.FORM&&(e.headers["content-type"]=n)}return e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case o.URLENCODED:return f.urlEncode(e);case o.JSON:return f.jsonEncode(e);case o.FORM:return f.formEncode(e);default:return e}},u=function(e){return e>=200&&e<300},{contentType:o={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:i,get:function(e){return e.method="GET",i(e)},post:a,transport:function(e){return e=s(e),f.selectFiles(e).then((function(t){for(var n=new FormData,r=0;r<t.length;r++)n.append(e.fieldName,t[r],t[r].name);f.isObject(e.data)&&Object.keys(e.data).forEach((function(t){var r=e.data[t];n.append(t,r)}));var o=e.beforeSend;return e.beforeSend=function(){return o(t)},e.data=n,a(e)}))},selectFiles:function(e){return delete(e=s(e)).beforeSend,f.selectFiles(e)}});e.exports=d},function(e,t,n){"use strict";n.r(t);var r=n(1);window.Promise=window.Promise||r.a},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,c=1,l={},u=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,r(c),c++},d.clearImmediate=p}function p(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,f=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"urlEncode",value:function(e){return o(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach((function(n){var r=e[n];t.append(n,r)})),t}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var r=document.createElement("INPUT");r.type="file",e.multiple&&r.setAttribute("multiple","multiple"),e.accept&&r.setAttribute("accept",e.accept),r.style.display="none",document.body.appendChild(r),r.addEventListener("change",(function(e){var n=e.target.files;t(n),document.body.removeChild(r)}),!1),r.click()}))}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");r&&(n[r]=o)})),n}}])&&r(t,n),e}()},function(e,t){var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(e,t,o,i){return t=t||null,o=o||"&",i=i||null,e?function(e){for(var t=new Array,n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}(Object.keys(e).map((function(a){var s,c,l=a;if(i&&(l=i+"["+l+"]"),"object"==typeof e[a]&&null!==e[a])s=r(e[a],null,o,l);else{t&&(c=l,l=!isNaN(parseFloat(c))&&isFinite(c)?t+Number(l):l);var u=e[a];u=(u=0===(u=!1===(u=!0===u?"1":u)?"0":u)?"0":u)||"",s=n(l)+"="+n(u)}return s}))).join(o).replace(/[!'()*]/g,""):""};e.exports=r}])},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".cdx-attaches {\n  --color-line: #EFF0F1;\n  --color-bg: #fff;\n  --color-bg-secondary: #F8F8F8;\n  --color-bg-secondary--hover: #f2f2f2;\n  --color-text-secondary: #707684;\n}\n\n  .cdx-attaches--with-file {\n    display: flex;\n    align-items: center;\n    padding: 10px 12px;\n    border: 1px solid var(--color-line);\n    border-radius: 7px;\n    background: var(--color-bg);\n  }\n\n  .cdx-attaches--with-file .cdx-attaches__file-info {\n      display: grid;\n      grid-gap: 4px;\n      max-width: calc(100% - 80px);\n      margin: auto 0;\n      flex-grow: 2;\n    }\n\n  .cdx-attaches--with-file .cdx-attaches__download-button {\n      display: flex;\n      align-items: center;\n      background: var(--color-bg-secondary);\n      padding: 6px;\n      border-radius: 6px;\n      margin: auto 0 auto auto;\n    }\n\n  .cdx-attaches--with-file .cdx-attaches__download-button:hover {\n        background: var(--color-bg-secondary--hover);\n      }\n\n  .cdx-attaches--with-file .cdx-attaches__download-button svg {\n        width: 20px;\n        height: 20px;\n        fill: none;\n      }\n\n  .cdx-attaches--with-file .cdx-attaches__file-icon {\n      position: relative;\n    }\n\n  .cdx-attaches--with-file .cdx-attaches__file-icon-background {\n        background-color: #333;\n\n        width: 27px;\n        height: 30px;\n        margin-right: 12px;\n        border-radius: 8px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n  @supports(-webkit-mask-box-image: url('')){\n\n  .cdx-attaches--with-file .cdx-attaches__file-icon-background {\n          border-radius: 0;\n          -webkit-mask-box-image: url(\"data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A\") 48% 41% 37.9% 53.3%\n      };\n        }\n\n  .cdx-attaches--with-file .cdx-attaches__file-icon-label {\n        position: absolute;\n        left: 3px;\n        top: 11px;\n        background: inherit;\n        text-transform: uppercase;\n        line-height: 1em;\n        color: #fff;\n        padding: 1px 2px;\n        border-radius: 3px;\n        font-size: 10px;\n        font-weight: bold;\n        /* box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.22); */\n        font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;\n        letter-spacing: 0.02em;\n      }\n\n  .cdx-attaches--with-file .cdx-attaches__file-icon svg {\n        width: 20px;\n        height: 20px;\n      }\n\n  .cdx-attaches--with-file .cdx-attaches__file-icon path {\n        stroke: #fff;\n      }\n\n  .cdx-attaches--with-file .cdx-attaches__size {\n      color: var(--color-text-secondary);\n      font-size: 12px;\n      line-height: 1em;\n    }\n\n  .cdx-attaches--with-file .cdx-attaches__size::after {\n        content: attr(data-size);\n        margin-left: 0.2em;\n      }\n\n  .cdx-attaches--with-file .cdx-attaches__title {\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      outline: none;\n      max-width: 90%;\n      font-size: 14px;\n      font-weight: 500;\n      line-height: 1em;\n    }\n\n  .cdx-attaches--with-file .cdx-attaches__title:empty::before {\n      content: attr(data-placeholder);\n      color: #7b7e89;\n    }\n\n  .cdx-attaches--loading .cdx-attaches__title,\n    .cdx-attaches--loading .cdx-attaches__file-icon,\n    .cdx-attaches--loading .cdx-attaches__size,\n    .cdx-attaches--loading .cdx-attaches__download-button,\n    .cdx-attaches--loading .cdx-attaches__button {\n      opacity: 0;\n      font-size: 0;\n    }\n\n  .cdx-attaches__button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #000;\n    border-radius: 7px;\n    font-weight: 500;\n  }\n\n  .cdx-attaches__button svg {\n      margin-top: 0;\n    }\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){return document.querySelector(e)},c=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,f=[],d=n(5);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function y(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),g(t,e.attrs),m(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=l||(l=y(t)),r=_.bind(null,n,a,!1),o=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),m(e,t),t}(t),r=E.bind(null,n,t),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=S.bind(null,n),o=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&p(h(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function S(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));n(1);var r=n(0),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.config,r=t.onUpload,o=t.onError;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=n,this.onUpload=r,this.onError=o}var t,n,r;return t=e,(n=[{key:"uploadSelectedFile",value:function(e){var t=this,n=e.onPreview;(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?o.a.selectFiles({accept:this.config.types}).then((function(e){n();var r,o=t.config.uploader.uploadByFile(e[0]);return(r=o)&&"function"==typeof r.then||console.warn("Custom uploader method uploadByFile should return a Promise"),o})):o.a.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:function(){return n()},fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then((function(e){return e.body}))).then((function(e){t.onUpload(e)})).catch((function(e){var n=e.body,r=n&&n.message?n.message:t.config.errorMessage;t.onError(r)}))}}])&&i(t.prototype,n),r&&i(t,r),e}();function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(e);Array.isArray(n)?(t=o.classList).add.apply(t,s(n)):n&&o.classList.add(n);for(var i in r)o[i]=r[i];return o}function u(e){return 0===Object.keys(e).length}const f='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>';function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){var n=this,r=t.data,o=t.config,i=t.api,s=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this.readOnly=s,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:o.endpoint||"",field:o.field||"file",types:o.types||"*",buttonText:o.buttonText||"Select file to upload",errorMessage:o.errorMessage||"File upload failed",uploader:o.uploader||void 0,additionalRequestHeaders:o.additionalRequestHeaders||{}},void 0===r||u(r)||(this.data=r),this.uploader=new a({config:this.config,onUpload:function(e){return n.onUpload(e)},onError:function(e){return n.uploadingFailed(e)}}),this.enableFileUpload=this.enableFileUpload.bind(this)}var t,n,r;return t=e,r=[{key:"toolbox",get:function(){return{icon:f,title:"Attachment"}}},{key:"isReadOnlySupported",get:function(){return!0}}],(n=[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}},{key:"EXTENSIONS",get:function(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}},{key:"validate",value:function(e){return!u(e.file)}},{key:"save",value:function(e){if(this.pluginHasData()){var t=e.querySelector(".".concat(this.CSS.title));t&&Object.assign(this.data,{title:t.innerHTML})}return this.data}},{key:"render",value:function(){var e=l("div",this.CSS.baseClass);return this.nodes.wrapper=l("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),e.appendChild(this.nodes.wrapper),e}},{key:"prepareUploadButton",value:function(){this.nodes.button=l("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML="".concat(f," ").concat(this.config.buttonText),this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}},{key:"appendCallback",value:function(){this.nodes.button.click()}},{key:"pluginHasData",value:function(){return""!==this.data.title||Object.values(this.data.file).some((function(e){return void 0!==e}))}},{key:"enableFileUpload",value:function(){var e=this;this.uploader.uploadSelectedFile({onPreview:function(){e.nodes.wrapper.classList.add(e.CSS.wrapperLoading,e.CSS.loader)}})}},{key:"onUpload",value:function(e){var t,n,r,o=e;try{o.success&&void 0!==o.file&&!u(o.file)?(this.data={file:o.file,title:o.file.title||""},this.nodes.button.remove(),this.showFileData(),t=this.nodes.title,n=document.createRange(),r=window.getSelection(),n.selectNodeContents(t),n.collapse(!1),r.removeAllRanges(),r.addRange(n),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(e){console.error("Attaches tool error:",e),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}},{key:"appendFileIcon",value:function(e){var t,n=e.extension||(void 0===(t=e.name)?"":t.split(".").pop()),r=this.EXTENSIONS[n],o=l("div",this.CSS.fileIcon),i=l("div",this.CSS.fileIconBackground);if(r&&(i.style.backgroundColor=r),o.appendChild(i),n){var a=n;n.length>4&&(a=n.substring(0,4)+"…");var s=l("div",this.CSS.fileIconLabel,{textContent:a,title:n});r&&(s.style.backgroundColor=r),o.appendChild(s)}else i.innerHTML=f;this.nodes.wrapper.appendChild(o)}},{key:"removeLoader",value:function(){var e=this;setTimeout((function(){return e.nodes.wrapper.classList.remove(e.CSS.wrapperLoading,e.CSS.loader)}),500)}},{key:"showFileData",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);var e=this.data,t=e.file,n=e.title;this.appendFileIcon(t);var r=l("div",this.CSS.fileInfo);if(this.nodes.title=l("div",this.CSS.title,{contentEditable:!1===this.readOnly}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=n||"",r.appendChild(this.nodes.title),t.size){var o,i,a=l("div",this.CSS.size);Math.log10(+t.size)>=6?(o="MiB",i=t.size/Math.pow(2,20)):(o="KiB",i=t.size/Math.pow(2,10)),a.textContent=i.toFixed(1),a.setAttribute("data-size",o),r.appendChild(a)}if(this.nodes.wrapper.appendChild(r),void 0!==t.url){var s=l("a",this.CSS.downloadButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',href:t.url,target:"_blank",rel:"nofollow noindex noreferrer"});this.nodes.wrapper.appendChild(s)}}},{key:"uploadingFailed",value:function(e){this.api.notifier.show({message:e,style:"error"}),this.removeLoader()}},{key:"data",get:function(){return this._data},set:function(e){var t=e.file,n=e.title;this._data={file:t,title:n}}}])&&d(t.prototype,n),r&&d(t,r),e}()}]).default}));